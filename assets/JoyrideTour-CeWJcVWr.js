const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/JoyrideUtil-DuUlwxt5.js","assets/redux-BaDTb7KV.js","assets/react-D41Hy763.js","assets/App-OIwmB3UG.js","assets/index-JnGvVAh8.js","assets/index-D6jNPpPU.css"])))=>i.map(i=>d[i]);
import{_ as t,R as e,u as o,t as r,V as a,f as n,g as s,h as i,i as c,m as u,j as l,K as g,e as p,w as d,a7 as f,x as h,b as k}from"./index-JnGvVAh8.js";import{r as y}from"./redux-BaDTb7KV.js";import{E as m,S as b,A as w,j as S}from"./JoyrideUtil-DuUlwxt5.js";import{l as T,u as E,S as C,aN as R}from"./App-OIwmB3UG.js";import"./react-D41Hy763.js";const j=[{target:".tour-step-1",content:"Select the year that you want to rank countries from"},{target:".tour-step-2",content:"Drag countries you want to rank from the left to the right column"},{target:".tour-step-3",content:"Use the bottom nav controls to edit your list"},{target:".tour-step-4",content:'Click "View List" to see more info about your countries'},{target:".tour-step-5",content:"Drag countries to change the order"},{target:".tour-step-6",content:"Click here to see more options"},{target:".tour-step-7",content:"You can generate a YouTube playlist from your ranking"},{target:".tour-step-8",content:"Or view a geographical heat map."},{target:".tour-step-9",content:'Create different rankings by category ("song", "staging") and generate a weighted final ranking'},{target:".tour-step-10",content:"Click over here to use a sorter to rank your countries according to your pairwise preferences"},{target:".tour-step-11",content:'Click "Select" to go back to the country picker'},{target:".tour-step-12",content:"Click the home icon for more info on this project"},{target:".tour-step-13",content:"Click the cog icon to access advanced controls"},{target:".tour-step-14",content:'In "Rankings" you can select a year and click the links to see the official ranking by voting type (tele, jury, total)'},{target:".tour-step-15",content:'You can select contestants from multiple years by enabling "Advanced Mode"'},{target:".tour-step-16",content:"Want to save or share your ranking? Just copy the URL! All of your ranking data is stored there."},{target:".tour-step-17",content:"e.g. your current URL is: eurovision-ranker.com?n=Sigrit%27s+Top+Picks&y=23&r=nidk4t"},{target:".tour-step-18",content:"Enjoy, friends ❤️"}].map((t=>({...t,disableBeacon:!0}))),v=v=>{const P=T(),_=E((t=>t.year)),U=E((t=>t.categories)),x=E((t=>t.rankedItems)),A=E((t=>t.unrankedItems)),[I,L]=y.useState(!1),M=C(),[O,D]=y.useState(""),[F,N]=y.useState(0),[V,J]=y.useState(null);y.useEffect((()=>{v.runTour&&t((()=>import("./JoyrideUtil-DuUlwxt5.js").then((t=>t.i))),__vite__mapDeps([0,1,2,3,4,5])).then((t=>{J((()=>t.default))})),v.runTour!==I&&(v.runTour&&(D(window.location.search),o({g:void 0,t:""}),P(r(!1)),P(a("")),M()),L(v.runTour),v.runTour||e(O,void 0))}),[v.runTour]),y.useEffect((()=>{(async()=>{await async function(t){switch(t){case 1:"2023"!==_&&(P(h("2023")),v.setRefreshUrl(Math.random())),await B(_),P(g("")),P(p(!0)),R("",U,P),P(k(!1));break;case 2:const t=["fi","hr","es","cz","no","is"],e=A.filter((e=>t.includes(e.country.key.toLowerCase()))),o=A.filter((e=>!t.includes(e.country.key.toLowerCase()))),r=[...t.map((t=>e.find((e=>e.country.key.toLowerCase()===t)))).filter((t=>void 0!==t)),...x];P(c(r)),P(i(o)),P(g("Sigrit's Top Picks")),v.setRefreshUrl(Math.random());break;case 4:P(p(!1));break;case 5:let a=f(x);x.length>=2&&(a[0]=x[1],a[1]=x[0]),P(c(a)),v.setRefreshUrl(Math.random()),P(d(!0));break;case 6:P(d(!0));break;case 11:P(p(!0));break;case 13:v.openConfigModal("rankings");break;case 14:v.setConfigModalShow(!1);break;case 16:v.setConfigModalShow(!1),P(g("")),await B(_),P(p(!0))}}(F)})()}),[F]);const Y=y.useCallback((t=>{const{action:e,index:o,status:r,type:a}=t;a===m.STEP_BEFORE&&0===o&&B(_),[b.FINISHED,b.SKIPPED].includes(r)||e===w.CLOSE&&a===m.STEP_AFTER?(v.setRunTour(!1),N(0)):a!==m.STEP_AFTER&&a!==m.TARGET_NOT_FOUND||N(o+(e===w.PREV?-1:1))}),[]);async function B(t){let e=await n(t,"");P(s(e)),P(i(e)),P(c([])),u(U),v.setRefreshUrl(Math.random())}return V?l.jsx(V,{disableScrolling:!0,disableScrollParentFix:!0,continuous:!0,run:I,steps:j,stepIndex:F,callback:Y,showProgress:!0,disableOverlay:!1,styles:S}):null};export{v as default};
