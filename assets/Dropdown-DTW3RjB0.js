import{j as e}from"./index-D6MaRXj5.js";import{r as t,t as n,R as r}from"./redux-BaDTb7KV.js";import{a3 as l,a4 as o,a5 as i,a6 as u,a7 as a,a8 as s,a9 as c,aa as d,ab as f,ac as m,ad as p,r as v,ae as g,af as h,ag as b,ah as y,ai as x,aj as E,ak as w,al as S,am as C,an as I,ao as R,ap as P,aq as M,ar as F,as as T,at as N,au as A,av as O,aw as D,ax as L,ay as k,az as H,aA as _,aB as j,c as B,b as $,aC as U}from"./App-Bzqa3M-C.js";function V(e,n=!1){let[r,o]=t.useReducer((()=>({})),{}),i=t.useMemo((()=>function(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}(e)),[e,r]);return l((()=>{if(!e)return;let t=new ResizeObserver(o);return t.observe(e),()=>{t.disconnect()}}),[e]),n?{width:`${i.width}px`,height:`${i.height}px`}:i}let W=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}};function K(e,t){let n=e(),r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e,...l){let o=t[e].call(n,...l);o&&(n=o,r.forEach((e=>e())))}}}function q(e){return t.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let G=new W((()=>K((()=>[]),{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(-1===t)return this;let n=this.slice();return n.splice(t,1),n}})));function Y(e,n){let r=G.get(n),o=t.useId(),i=q(r);if(l((()=>{if(e)return r.dispatch("ADD",o),()=>r.dispatch("REMOVE",o)}),[r,e]),!e)return!1;let u=i.indexOf(o),a=i.length;return-1===u&&(u=a,a+=1),u===a-1}let Q=new Map,X=new Map;function z(e){var t;let n=null!=(t=X.get(e))?t:0;return X.set(e,n+1),0!==n||(Q.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>J(e)}function J(e){var t;let n=null!=(t=X.get(e))?t:1;if(1===n?X.delete(e):X.set(e,n-1),1!==n)return;let r=Q.get(e);r&&(null===r["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Q.delete(e))}let Z=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(","),ee=["[data-autofocus]"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var te,ne,re,le=((re=le||{})[re.First=1]="First",re[re.Previous=2]="Previous",re[re.Next=4]="Next",re[re.Last=8]="Last",re[re.WrapAround=16]="WrapAround",re[re.NoScroll=32]="NoScroll",re[re.AutoFocus=64]="AutoFocus",re),oe=((ne=oe||{})[ne.Error=0]="Error",ne[ne.Overflow=1]="Overflow",ne[ne.Success=2]="Success",ne[ne.Underflow=3]="Underflow",ne),ie=((te=ie||{})[te.Previous=-1]="Previous",te[te.Next=1]="Next",te);function ue(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Z)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var ae=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ae||{});function se(e,t=0){var n;return e!==(null==(n=o(e))?void 0:n.body)&&a(t,{0:()=>e.matches(Z),1(){let t=e;for(;null!==t;){if(t.matches(Z))return!0;t=t.parentElement}return!1}})}function ce(e){let t=o(e);i().nextFrame((()=>{t&&!se(t.activeElement,0)&&function(e){null==e||e.focus({preventScroll:!0})}(e)}))}var de=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(de||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let fe=["textarea","input"].join(",");function me(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),l=t(n);if(null===r||null===l)return 0;let o=r.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function pe(e,t){return function(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?me(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(ee)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}(e):ue(e);l.length>0&&i.length>1&&(i=i.filter((e=>!l.some((t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))))),r=null!=r?r:o.activeElement;let u,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,i.indexOf(r))-1;if(4&t)return Math.max(0,i.indexOf(r))+1;if(8&t)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},d=0,f=i.length;do{if(d>=f||d+f<=0)return 0;let e=s+d;if(16&t)e=(e+f)%f;else{if(e<0)return 3;if(e>=f)return 1}u=i[e],null==u||u.focus(c),d+=a}while(u!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,fe))&&n}(u)&&u.select(),2}(ue(),t,{relativeTo:e})}function ve(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ge(){return ve()||/Android/gi.test(window.navigator.userAgent)}function he(e,n,r,l){let o=u(r);t.useEffect((()=>{if(e)return document.addEventListener(n,t,l),()=>document.removeEventListener(n,t,l);function t(e){o.current(e)}}),[e,n,l])}const be=30;function ye(e,n,r){let l=Y(e,"outside-click"),o=u(r),i=t.useCallback((function(e,t){if(e.defaultPrevented)return;let r=t(e);if(null===r||!r.getRootNode().contains(r)||!r.isConnected)return;let l=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(n);for(let n of l)if(null!==n&&(n.contains(r)||e.composed&&e.composedPath().includes(n)))return;return!se(r,ae.Loose)&&-1!==r.tabIndex&&e.preventDefault(),o.current(e,r)}),[o,n]),a=t.useRef(null);he(l,"pointerdown",(e=>{var t,n;a.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target}),!0),he(l,"mousedown",(e=>{var t,n;a.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target}),!0),he(l,"click",(e=>{ge()||a.current&&(i(e,(()=>a.current)),a.current=null)}),!0);let s=t.useRef({x:0,y:0});he(l,"touchstart",(e=>{s.current.x=e.touches[0].clientX,s.current.y=e.touches[0].clientY}),!0),he(l,"touchend",(e=>{let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(!(Math.abs(t-s.current.x)>=be||Math.abs(n-s.current.y)>=be))return i(e,(()=>e.target instanceof HTMLElement?e.target:null))}),!0),function(e,n,r,l){let o=u(r);t.useEffect((()=>{if(e)return window.addEventListener(n,t,l),()=>window.removeEventListener(n,t,l);function t(e){o.current(e)}}),[e,n,l])}(l,"blur",(e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function xe(...e){return t.useMemo((()=>o(...e)),[...e])}function Ee(){let e;return{before({doc:t}){var n;let r=t.documentElement,l=null!=(n=t.defaultView)?n:window;e=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-l);n.style(r,"paddingRight",`${o}px`)}}}function we(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Se=K((()=>new Map),{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:i(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:we(n)},l=[ve()?{before({doc:e,d:t,meta:n}){function r(e){return n.containers.flatMap((e=>e())).some((t=>t.contains(e)))}t.microTask((()=>{var n;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let n=i();n.style(e.documentElement,"scrollBehavior","auto"),t.add((()=>t.microTask((()=>n.dispose()))))}let l=null!=(n=window.scrollY)?n:window.pageYOffset,o=null;t.addEventListener(e,"click",(t=>{if(t.target instanceof HTMLElement)try{let n=t.target.closest("a");if(!n)return;let{hash:l}=new URL(n.href),i=e.querySelector(l);i&&!r(i)&&(o=i)}catch{}}),!0),t.addEventListener(e,"touchstart",(e=>{if(e.target instanceof HTMLElement)if(r(e.target)){let n=e.target;for(;n.parentElement&&r(n.parentElement);)n=n.parentElement;t.style(n,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")})),t.addEventListener(e,"touchmove",(e=>{if(e.target instanceof HTMLElement){if("INPUT"===e.target.tagName)return;if(r(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}}),{passive:!1}),t.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;l!==t&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)}))}))}}:{},Ee(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];l.forEach((({before:e})=>null==e?void 0:e(r))),l.forEach((({after:e})=>null==e?void 0:e(r)))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function Ce(e,t,n=(()=>[document.body])){!function(e,t,n=(()=>({containers:[]}))){let r=q(Se),o=t?r.get(t):void 0,i=!!o&&o.count>0;l((()=>{if(t&&e)return Se.dispatch("PUSH",t,n),()=>Se.dispatch("POP",t,n)}),[e,t])}(Y(e,"scroll-lock"),t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}function Ie(e){return[e.screenX,e.screenY]}Se.subscribe((()=>{let e=Se.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&Se.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&Se.dispatch("TEARDOWN",n)}}));var Re,Pe;"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(Re=null==process?void 0:{})?void 0:Re.NODE_ENV)&&void 0===(null==(Pe=null==Element?void 0:Element.prototype)?void 0:Pe.getAnimations)&&(Element.prototype.getAnimations=function(){return[]});var Me,Fe=((Me=Fe||{})[Me.None=0]="None",Me[Me.Closed=1]="Closed",Me[Me.Enter=2]="Enter",Me[Me.Leave=4]="Leave",Me);function Te(e){let t={};for(let n in e)!0===e[n]&&(t[`data-${n}`]="");return t}function Ne(e,n,r,o){let[u,a]=t.useState(r),{hasFlag:c,addFlag:d,removeFlag:f}=function(e=0){let[n,r]=t.useState(e),l=t.useCallback((e=>r(e)),[n]),o=t.useCallback((e=>r((t=>t|e))),[n]),i=t.useCallback((e=>(n&e)===e),[n]),u=t.useCallback((e=>r((t=>t&~e))),[r]),a=t.useCallback((e=>r((t=>t^e))),[r]);return{flags:n,setFlag:l,addFlag:o,hasFlag:i,removeFlag:u,toggleFlag:a}}(e&&u?3:0),m=t.useRef(!1),p=t.useRef(!1),v=s();return l((()=>{var t;if(e)return r&&a(!0),n?(null==(t=null==o?void 0:o.start)||t.call(o,r),function(e,{prepare:t,run:n,done:r,inFlight:l}){let o=i();return function(e,{inFlight:t,prepare:n}){if(null!=t&&t.current)return void n();let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}(e,{prepare:t,inFlight:l}),o.nextFrame((()=>{n(),o.requestAnimationFrame((()=>{o.add(function(e,t){var n,r;let l=i();if(!e)return l.dispose;let o=!1;l.add((()=>{o=!0}));let u=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter((e=>e instanceof CSSTransition)))?r:[];return 0===u.length?(t(),l.dispose):(Promise.allSettled(u.map((e=>e.finished))).then((()=>{o||t()})),l.dispose)}(e,r))}))})),o.dispose}(n,{inFlight:m,prepare(){p.current?p.current=!1:p.current=m.current,m.current=!0,!p.current&&(r?(d(3),f(4)):(d(4),f(2)))},run(){p.current?r?(f(3),d(4)):(f(4),d(3)):r?f(1):d(1)},done(){var e;p.current&&"function"==typeof n.getAnimations&&n.getAnimations().length>0||(m.current=!1,f(7),r||a(!1),null==(e=null==o?void 0:o.end)||e.call(o,r))}})):void(r&&d(3))}),[e,r,n,v]),e?[u,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}var Ae="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function Oe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,l;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!Oe(e[r],t[r]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,l[r]))return!1;for(r=n;0!=r--;){const n=l[r];if(("_owner"!==n||!e.$$typeof)&&!Oe(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function De(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Le(e,t){const n=De(e);return Math.round(t*n)/n}function ke(e){const n=t.useRef(e);return Ae((()=>{n.current=e})),n}const He=(e,t)=>({...c(e),options:[e,t]}),_e=(e,t)=>({...d(e),options:[e,t]}),je=(e,t)=>({...f(e),options:[e,t]}),Be=(e,t)=>({...m(e),options:[e,t]}),$e={...n},Ue=$e.useInsertionEffect||(e=>e());function Ve(e){const n=t.useRef((()=>{}));return Ue((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}var We="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;let Ke=!1,qe=0;const Ge=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qe++;const Ye=$e.useId||function(){const[e,n]=t.useState((()=>Ke?Ge():void 0));return We((()=>{null==e&&n(Ge())}),[]),t.useEffect((()=>{Ke=!0}),[]),e};const Qe=t.createContext(null),Xe=t.createContext(null),ze=()=>{var e;return(null==(e=t.useContext(Qe))?void 0:e.id)||null},Je=()=>t.useContext(Xe);function Ze(e){const{open:n=!1,onOpenChange:r,elements:l}=e,o=Ye(),i=t.useRef({}),[u]=t.useState((()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}())),a=null!=ze(),[s,c]=t.useState(l.reference),d=Ve(((e,t,n)=>{i.current.openEvent=e?t:void 0,u.emit("openchange",{open:e,event:t,reason:n,nested:a}),null==r||r(e,t,n)})),f=t.useMemo((()=>({setPositionReference:c})),[]),m=t.useMemo((()=>({reference:s||l.reference||null,floating:l.floating||null,domReference:l.reference})),[s,l.reference,l.floating]);return t.useMemo((()=>({dataRef:i,open:n,onOpenChange:d,elements:m,events:u,floatingId:o,refs:f})),[n,d,m,u,o,f])}function et(e){void 0===e&&(e={});const{nodeId:n}=e,r=Ze({...e,elements:{reference:null,floating:null,...e.elements}}),l=e.rootContext||r,o=l.elements,[i,u]=t.useState(null),[a,s]=t.useState(null),c=(null==o?void 0:o.reference)||i,d=t.useRef(null),f=Je();We((()=>{c&&(d.current=c)}),[c]);const m=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:l=[],platform:o,elements:{reference:i,floating:u}={},transform:a=!0,whileElementsMounted:s,open:c}=e,[d,f]=t.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[m,g]=t.useState(l);Oe(m,l)||g(l);const[h,b]=t.useState(null),[y,x]=t.useState(null),E=t.useCallback((e=>{e!==I.current&&(I.current=e,b(e))}),[]),w=t.useCallback((e=>{e!==R.current&&(R.current=e,x(e))}),[]),S=i||h,C=u||y,I=t.useRef(null),R=t.useRef(null),P=t.useRef(d),M=null!=s,F=ke(s),T=ke(o),N=t.useCallback((()=>{if(!I.current||!R.current)return;const e={placement:n,strategy:r,middleware:m};T.current&&(e.platform=T.current),p(I.current,R.current,e).then((e=>{const t={...e,isPositioned:!0};A.current&&!Oe(P.current,t)&&(P.current=t,v.flushSync((()=>{f(t)})))}))}),[m,n,r,T]);Ae((()=>{!1===c&&P.current.isPositioned&&(P.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[c]);const A=t.useRef(!1);Ae((()=>(A.current=!0,()=>{A.current=!1})),[]),Ae((()=>{if(S&&(I.current=S),C&&(R.current=C),S&&C){if(F.current)return F.current(S,C,N);N()}}),[S,C,N,F,M]);const O=t.useMemo((()=>({reference:I,floating:R,setReference:E,setFloating:w})),[E,w]),D=t.useMemo((()=>({reference:S,floating:C})),[S,C]),L=t.useMemo((()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=Le(D.floating,d.x),n=Le(D.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+n+"px)",...De(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,a,D.floating,d.x,d.y]);return t.useMemo((()=>({...d,update:N,refs:O,elements:D,floatingStyles:L})),[d,N,O,D,L])}({...e,elements:{...o,...a&&{reference:a}}}),h=t.useCallback((e=>{const t=g(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;s(t),m.refs.setReference(t)}),[m.refs]),b=t.useCallback((e=>{(g(e)||null===e)&&(d.current=e,u(e)),(g(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!g(e))&&m.refs.setReference(e)}),[m.refs]),y=t.useMemo((()=>({...m.refs,setReference:b,setPositionReference:h,domReference:d})),[m.refs,b,h]),x=t.useMemo((()=>({...m.elements,domReference:c})),[m.elements,c]),E=t.useMemo((()=>({...m,...l,refs:y,elements:x,nodeId:n})),[m,y,x,n,l]);return We((()=>{l.dataRef.current.floatingContext=E;const e=null==f?void 0:f.nodesRef.current.find((e=>e.id===n));e&&(e.context=E)})),t.useMemo((()=>({...m,context:E,refs:y,elements:x})),[m,y,x,E])}const tt="active",nt="selected";function rt(e,t,n){const r=new Map,l="item"===n;let o=e;if(l&&e){const{[tt]:t,[nt]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1},...o,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var i;l&&[tt,nt].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(i=r.get(n))||i.push(o),e[n]=function(){for(var e,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...l))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function lt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const ot=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:l,offset:o=0,index:i=0,minItemsVisible:u=4,referenceOverflowThreshold:a=0,scrollRef:s,...c}=e,{rects:d,elements:{floating:f}}=t,m=n.current[i];if(!m)return{};const p={...t,...await He(-m.offsetTop-f.clientTop-d.reference.height/2-m.offsetHeight/2-o).fn(t)},g=(null==s?void 0:s.current)||f,b=await h(lt(p,g.scrollHeight),c),y=await h(p,{...c,elementContext:"reference"}),x=Math.max(0,b.top),E=p.y+x,w=Math.max(0,g.scrollHeight-x-Math.max(0,b.bottom));return g.style.maxHeight=w+"px",g.scrollTop=x,l&&(g.offsetHeight<m.offsetHeight*Math.min(u,n.current.length-1)-1||y.top>=-a||y.bottom>=-a?v.flushSync((()=>l(!0))):v.flushSync((()=>l(!1)))),r&&(r.current=await h(lt({...p,y:E},g.offsetHeight),c)),{y:E}}});function it(e,n){const{open:r,elements:l}=e,{enabled:o=!0,overflowRef:i,scrollRef:u,onChange:a}=n,s=Ve(a),c=t.useRef(!1),d=t.useRef(null),f=t.useRef(null);return t.useEffect((()=>{if(!o)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;const n=e.deltaY,r=i.current.top>=-.5,l=i.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,u=n<0?-1:1,a=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!l&&n<0?(e.preventDefault(),v.flushSync((()=>{s((e=>e+Math[a](n,o*u)))}))):/firefox/i.test(function(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}())&&(t.scrollTop+=n))}const t=(null==u?void 0:u.current)||l.floating;return r&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{d.current=t.scrollTop,null!=i.current&&(f.current={...i.current})})),()=>{d.current=null,f.current=null,t.removeEventListener("wheel",e)}):void 0}),[o,r,l.floating,i,u,s]),t.useMemo((()=>o?{floating:{onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const e=(null==u?void 0:u.current)||l.floating;if(i.current&&e&&c.current){if(null!==d.current){const t=e.scrollTop-d.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&v.flushSync((()=>s((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}}}:{}),[o,i,l.floating,u,s])}let ut=t.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ut.displayName="FloatingContext";let at=t.createContext(null);at.displayName="PlacementContext";let st=4;function ct({children:e,enabled:n=!0}){let[r,o]=t.useState(null),[i,u]=t.useState(0),a=t.useRef(null),[s,c]=t.useState(null);!function(e){l((()=>{if(!e)return;let t=new MutationObserver((()=>{let t=window.getComputedStyle(e).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(e.style.maxHeight=`${Math.ceil(n)}px`)}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}}),[e])}(s);let d=n&&null!==r&&null!==s,{to:f="bottom",gap:m=0,offset:p=0,padding:v=0,inner:g}=function(e,t){var n,r,l;let o=dt(null!=(n=null==e?void 0:e.gap)?n:"var(--anchor-gap, 0)",t),i=dt(null!=(r=null==e?void 0:e.offset)?r:"var(--anchor-offset, 0)",t),u=dt(null!=(l=null==e?void 0:e.padding)?l:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:i,padding:u}}(r,s),[h,x="center"]=f.split(" ");l((()=>{d&&u(0)}),[d]);let{refs:E,floatingStyles:w,context:S}=et({open:d,placement:"selection"===h?"center"===x?"bottom":`bottom-${x}`:"center"===x?`${h}`:`${h}-${x}`,strategy:"absolute",transform:!1,middleware:[He({mainAxis:"selection"===h?0:m,crossAxis:p}),_e({padding:v}),"selection"!==h&&je({padding:v}),"selection"===h&&g?ot({...g,padding:v,overflowRef:a,offset:i,minItemsVisible:st,referenceOverflowThreshold:v,onFallbackChange(e){var t,n;if(!e)return;let r=S.elements.floating;if(!r)return;let l=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,o=Math.min(st,r.childElementCount),i=0,a=0;for(let u of null!=(n=null==(t=S.elements.floating)?void 0:t.childNodes)?n:[])if(u instanceof HTMLElement){let e=u.offsetTop,t=e+u.clientHeight+l,n=r.scrollTop,s=n+r.clientHeight;if(!(e>=n&&t<=s)){a=Math.max(0,Math.min(t,s)-Math.max(e,n)),i=u.clientHeight;break}o--}o>=1&&u((e=>{let t=i*o-a+l;return e>=t?e:t}))}}):null,Be({padding:v,apply({availableWidth:e,availableHeight:t,elements:n}){Object.assign(n.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:b}),[C=h,I=x]=S.placement.split("-");"selection"===h&&(C="selection");let R=t.useMemo((()=>({anchor:[C,I].filter(Boolean).join(" ")})),[C,I]),P=it(S,{overflowRef:a,onChange:u}),{getReferenceProps:M,getFloatingProps:F}=function(e){void 0===e&&(e=[]);const n=e,r=t.useCallback((t=>rt(t,e,"reference")),n),l=t.useCallback((t=>rt(t,e,"floating")),n),o=t.useCallback((t=>rt(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return t.useMemo((()=>({getReferenceProps:r,getFloatingProps:l,getItemProps:o})),[r,l,o])}([P]),T=y((e=>{c(e),E.setFloating(e)}));return t.createElement(at.Provider,{value:o},t.createElement(ut.Provider,{value:{setFloating:T,setReference:E.setReference,styles:w,getReferenceProps:M,getFloatingProps:F,slot:R}},e))}function dt(e,n,r=void 0){let o=s(),i=y(((e,t)=>{if(null==e)return[r,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[r,null];let n=mt(e,t);return[n,r=>{let l=ft(e);{let i=l.map((e=>window.getComputedStyle(t).getPropertyValue(e)));o.requestAnimationFrame((function u(){o.nextFrame(u);let a=!1;for(let[e,n]of l.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(i[e]!==r){i[e]=r,a=!0;break}}if(!a)return;let s=mt(e,t);n!==s&&(r(s),n=s)}))}return o.dispose}]}return[r,null]})),u=t.useMemo((()=>i(e,n)[0]),[e,n]),[a=u,c]=t.useState();return l((()=>{let[t,r]=i(e,n);if(c(t),r)return r(c)}),[e,n]),a}function ft(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let n=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[n,...ft(r)]:[n]}return[]}function mt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let pt=t.createContext(null);pt.displayName="OpenClosedContext";var vt,gt=((vt=gt||{})[vt.Open=1]="Open",vt[vt.Closed=2]="Closed",vt[vt.Closing=4]="Closing",vt[vt.Opening=8]="Opening",vt);function ht(){return t.useContext(pt)}function bt({value:e,children:t}){return r.createElement(pt.Provider,{value:e},t)}var yt,xt=((yt=xt||{})[yt.First=0]="First",yt[yt.Previous=1]="Previous",yt[yt.Next=2]="Next",yt[yt.Last=3]="Last",yt[yt.Specific=4]="Specific",yt[yt.Nothing=5]="Nothing",yt);function Et(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),l=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:-1===l&&(l=n.length);for(let e=l-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=l+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}function wt(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in n&&n.useSyncExternalStore((()=>()=>{}),(()=>!1),(()=>!e))}(),[r,l]=t.useState(E.isHandoffComplete);return r&&!1===E.isHandoffComplete&&l(!1),t.useEffect((()=>{!0!==r&&l(!0)}),[r]),t.useEffect((()=>E.handoff()),[]),!e&&r}let St=t.createContext(!1);function Ct(e){let n=t.useContext(St),r=t.useContext(Mt),l=xe(e),[o,i]=t.useState((()=>{var e;if(!n&&null!==r)return null!=(e=r.current)?e:null;if(E.isServer)return null;let t=null==l?void 0:l.getElementById("headlessui-portal-root");if(t)return t;if(null===l)return null;let o=l.createElement("div");return o.setAttribute("id","headlessui-portal-root"),l.body.appendChild(o)}));return t.useEffect((()=>{null!==o&&(null!=l&&l.body.contains(o)||null==l||l.body.appendChild(o))}),[o,l]),t.useEffect((()=>{n||null!==r&&i(r.current)}),[r,i,n]),o}let It=t.Fragment,Rt=w((function(e,n){let r=e,o=t.useRef(null),i=S(C((e=>{o.current=e})),n),u=xe(o),a=Ct(o),[s]=t.useState((()=>{var e;return E.isServer?null:null!=(e=null==u?void 0:u.createElement("div"))?e:null})),c=t.useContext(Ft),d=wt();l((()=>{!a||!s||a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s))}),[a,s]),l((()=>{if(s&&c)return c.register(s)}),[c,s]),function(e){let n=y(e),r=t.useRef(!1);t.useEffect((()=>(r.current=!1,()=>{r.current=!0,x((()=>{r.current&&n()}))})),[n])}((()=>{var e;!a||!s||(s instanceof Node&&a.contains(s)&&a.removeChild(s),a.childNodes.length<=0&&(null==(e=a.parentElement)||e.removeChild(a)))}));let f=I();return d&&a&&s?v.createPortal(f({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:It,name:"Portal"}),s):null}));let Pt=t.Fragment,Mt=t.createContext(null);let Ft=t.createContext(null),Tt=w((function(e,t){let n=S(t),{enabled:l=!0,...o}=e,i=I();return l?r.createElement(Rt,{...o,ref:n}):i({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:It,name:"Portal"})})),Nt=w((function(e,t){let{target:n,...l}=e,o={ref:S(t)},i=I();return r.createElement(Mt.Provider,{value:n},i({ourProps:o,theirProps:l,defaultTag:Pt,name:"Popover.Group"}))})),At=Object.assign(Tt,{Group:Nt});function Ot(e){var n;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(n=e.as)?n:jt)!==t.Fragment||1===r.Children.count(e.children)}let Dt=t.createContext(null);Dt.displayName="TransitionContext";var Lt=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Lt||{});let kt=t.createContext(null);function Ht(e){return"children"in e?Ht(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function _t(e,n){let r=u(e),o=t.useRef([]),i=function(){let e=t.useRef(!1);return l((()=>(e.current=!0,()=>{e.current=!1})),[]),e}(),c=s(),d=y(((e,t=P.Hidden)=>{let n=o.current.findIndex((({el:t})=>t===e));-1!==n&&(a(t,{[P.Unmount](){o.current.splice(n,1)},[P.Hidden](){o.current[n].state="hidden"}}),c.microTask((()=>{var e;!Ht(o)&&i.current&&(null==(e=r.current)||e.call(r))})))})),f=y((e=>{let t=o.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):o.current.push({el:e,state:"visible"}),()=>d(e,P.Unmount)})),m=t.useRef([]),p=t.useRef(Promise.resolve()),v=t.useRef({enter:[],leave:[]}),g=y(((e,t,r)=>{m.current.splice(0),n&&(n.chains.current[t]=n.chains.current[t].filter((([t])=>t!==e))),null==n||n.chains.current[t].push([e,new Promise((e=>{m.current.push(e)}))]),null==n||n.chains.current[t].push([e,new Promise((e=>{Promise.all(v.current[t].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===t?p.current=p.current.then((()=>null==n?void 0:n.wait.current)).then((()=>r(t))):r(t)})),h=y(((e,t,n)=>{Promise.all(v.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=m.current.shift())||e()})).then((()=>n(t)))}));return t.useMemo((()=>({children:o,register:f,unregister:d,onStart:g,onStop:h,wait:p,chains:v})),[f,d,o,g,h,v,p])}kt.displayName="NestingContext";let jt=t.Fragment,Bt=R.RenderStrategy;let $t=w((function(e,n){let{show:o,appear:i=!1,unmount:u=!0,...a}=e,s=t.useRef(null),c=Ot(e),d=S(...c?[s,n]:null===n?[]:[n]);wt();let f=ht();if(void 0===o&&null!==f&&(o=(f&gt.Open)===gt.Open),void 0===o)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,p]=t.useState(o?"visible":"hidden"),v=_t((()=>{o||p("hidden")})),[g,h]=t.useState(!0),b=t.useRef([o]);l((()=>{!1!==g&&b.current[b.current.length-1]!==o&&(b.current.push(o),h(!1))}),[b,o]);let x=t.useMemo((()=>({show:o,appear:i,initial:g})),[o,i,g]);l((()=>{o?p("visible"):!Ht(v)&&null!==s.current&&p("hidden")}),[o,v]);let E={unmount:u},w=y((()=>{var t;g&&h(!1),null==(t=e.beforeEnter)||t.call(e)})),C=y((()=>{var t;g&&h(!1),null==(t=e.beforeLeave)||t.call(e)})),R=I();return r.createElement(kt.Provider,{value:v},r.createElement(Dt.Provider,{value:x},R({ourProps:{...E,as:t.Fragment,children:r.createElement(Ut,{ref:d,...E,...a,beforeEnter:w,beforeLeave:C})},theirProps:{},defaultTag:t.Fragment,features:Bt,visible:"visible"===m,name:"Transition"})))})),Ut=w((function(e,n){var o,i;let{transition:u=!0,beforeEnter:s,afterEnter:c,beforeLeave:d,afterLeave:f,enter:m,enterFrom:p,enterTo:v,entered:g,leave:h,leaveFrom:b,leaveTo:x,...E}=e,[w,C]=t.useState(null),R=t.useRef(null),T=Ot(e),N=S(...T?[R,n,C]:null===n?[]:[n]),A=null==(o=E.unmount)||o?P.Unmount:P.Hidden,{show:O,appear:D,initial:L}=function(){let e=t.useContext(Dt);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[k,H]=t.useState(O?"visible":"hidden"),_=function(){let e=t.useContext(kt);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:j,unregister:B}=_;l((()=>j(R)),[j,R]),l((()=>{if(A===P.Hidden&&R.current)return O&&"visible"!==k?void H("visible"):a(k,{hidden:()=>B(R),visible:()=>j(R)})}),[k,R,j,B,O,A]);let $=wt();l((()=>{if(T&&$&&"visible"===k&&null===R.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[R,k,$,T]);let U=L&&!D,V=D&&O&&L,W=t.useRef(!1),K=_t((()=>{W.current||(H("hidden"),B(R))}),_),q=y((e=>{W.current=!0;let t=e?"enter":"leave";K.onStart(R,t,(e=>{"enter"===e?null==s||s():"leave"===e&&(null==d||d())}))})),G=y((e=>{let t=e?"enter":"leave";W.current=!1,K.onStop(R,t,(e=>{"enter"===e?null==c||c():"leave"===e&&(null==f||f())})),"leave"===t&&!Ht(K)&&(H("hidden"),B(R))}));t.useEffect((()=>{T&&u||(q(O),G(O))}),[O,T,u]);let Y=(()=>!(!u||!T||!$||U))(),[,Q]=Ne(Y,w,O,{start:q,end:G}),X=M({ref:N,className:(null==(i=F(E.className,V&&m,V&&p,Q.enter&&m,Q.enter&&Q.closed&&p,Q.enter&&!Q.closed&&v,Q.leave&&h,Q.leave&&!Q.closed&&b,Q.leave&&Q.closed&&x,!Q.transition&&O&&g))?void 0:i.trim())||void 0,...Te(Q)}),z=0;"visible"===k&&(z|=gt.Open),"hidden"===k&&(z|=gt.Closed),Q.enter&&(z|=gt.Opening),Q.leave&&(z|=gt.Closing);let J=I();return r.createElement(kt.Provider,{value:K},r.createElement(bt,{value:z},J({ourProps:X,theirProps:E,defaultTag:jt,features:Bt,visible:"visible"===k,name:"Transition.Child"})))})),Vt=w((function(e,n){let l=null!==t.useContext(Dt),o=null!==ht();return r.createElement(r.Fragment,null,!l&&o?r.createElement($t,{ref:n,...e}):r.createElement(Ut,{ref:n,...e}))})),Wt=Object.assign($t,{Child:Vt,Root:$t});let Kt=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function qt(e){var t,n;let r=null!=(t=e.innerText)?t:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return r;let o=!1;for(let u of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let i=o?null!=(n=l.innerText)?n:"":r;return Kt.test(i)&&(i=i.replace(Kt,"")),i}function Gt(e){let n=t.useRef(""),r=t.useRef("");return y((()=>{let t=e.current;if(!t)return"";let l=t.innerText;if(n.current===l)return r.current;let o=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():qt(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return qt(e).trim()}(t).trim().toLowerCase();return n.current=l,r.current=o,o}))}var Yt,Qt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Qt||{}),Xt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Xt||{}),zt=((Yt=zt||{})[Yt.OpenMenu=0]="OpenMenu",Yt[Yt.CloseMenu=1]="CloseMenu",Yt[Yt.GoToItem=2]="GoToItem",Yt[Yt.Search=3]="Search",Yt[Yt.ClearSearch=4]="ClearSearch",Yt[Yt.RegisterItem=5]="RegisterItem",Yt[Yt.UnregisterItem=6]="UnregisterItem",Yt[Yt.SetButtonElement=7]="SetButtonElement",Yt[Yt.SetItemsElement=8]="SetItemsElement",Yt);function Jt(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=me(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),l=n?r.indexOf(n):null;return-1===l&&(l=null),{items:r,activeItemIndex:l}}let Zt={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n,r,l,o,i;if(1===e.menuState)return e;let u={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===xt.Nothing)return{...u,activeItemIndex:null};if(t.focus===xt.Specific)return{...u,activeItemIndex:e.items.findIndex((e=>e.id===t.id))};if(t.focus===xt.Previous){let n=e.activeItemIndex;if(null!==n){let o=e.items[n].dataRef.current.domRef,i=Et(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(r=o.current)?void 0:r.previousElementSibling)===t.current||null===(null==(l=t.current)?void 0:l.previousElementSibling))return{...u,activeItemIndex:i}}}}else if(t.focus===xt.Next){let n=e.activeItemIndex;if(null!==n){let r=e.items[n].dataRef.current.domRef,l=Et(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==l){let t=e.items[l].dataRef.current.domRef;if((null==(o=r.current)?void 0:o.nextElementSibling)===t.current||null===(null==(i=t.current)?void 0:i.nextElementSibling))return{...u,activeItemIndex:l}}}}let a=Jt(e),s=Et(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...u,...a,activeItemIndex:s}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),l=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),o=l?e.items.indexOf(l):-1;return-1===o||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=Jt(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=Jt(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},en=t.createContext(null);function tn(e){let n=t.useContext(en);if(null===n){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,tn),t}return n}function nn(e,t){return a(t.type,Zt,e,t)}en.displayName="MenuContext";let rn=t.Fragment;let ln=R.RenderStrategy|R.Static;let on=t.Fragment;let un=w((function(e,n){let{__demoMode:l=!1,...o}=e,i=t.useReducer(nn,{__demoMode:l,menuState:l?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:u,itemsElement:s,buttonElement:c},d]=i,f=S(n);ye(0===u,[c,s],((e,t)=>{d({type:1}),se(t,ae.Loose)||(e.preventDefault(),null==c||c.focus())}));let m=y((()=>{d({type:1})})),p=t.useMemo((()=>({open:0===u,close:m})),[u,m]),v={ref:f},g=I();return r.createElement(ct,null,r.createElement(en.Provider,{value:i},r.createElement(bt,{value:a(u,{0:gt.Open,1:gt.Closed})},g({ourProps:v,theirProps:o,slot:p,defaultTag:rn,name:"Menu"}))))})),an=w((function(e,n){var r;let l=t.useId(),{id:o=`headlessui-menu-button-${l}`,disabled:i=!1,autoFocus:u=!1,...a}=e,[s,c]=tn("Menu.Button"),d=t.useContext(ut).getReferenceProps,f=S(n,t.useContext(ut).setReference,y((e=>c({type:7,element:e})))),m=y((e=>{switch(e.key){case _.Space:case _.Enter:case _.ArrowDown:e.preventDefault(),e.stopPropagation(),v.flushSync((()=>c({type:0}))),c({type:2,focus:xt.First});break;case _.ArrowUp:e.preventDefault(),e.stopPropagation(),v.flushSync((()=>c({type:0}))),c({type:2,focus:xt.Last})}})),p=y((e=>{if(e.key===_.Space)e.preventDefault()})),g=y((e=>{var t;if(j(e.currentTarget))return e.preventDefault();i||(0===s.menuState?(v.flushSync((()=>c({type:1}))),null==(t=s.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),c({type:0})))})),{isFocusVisible:h,focusProps:b}=T({autoFocus:u}),{isHovered:x,hoverProps:E}=N({isDisabled:i}),{pressed:w,pressProps:C}=A({disabled:i}),R=t.useMemo((()=>({open:0===s.menuState,active:w||0===s.menuState,disabled:i,hover:x,focus:h,autofocus:u})),[s,x,h,w,i,u]),P=O(d(),{ref:f,id:o,type:D(e,s.buttonElement),"aria-haspopup":"menu","aria-controls":null==(r=s.itemsElement)?void 0:r.id,"aria-expanded":0===s.menuState,disabled:i||void 0,autoFocus:u,onKeyDown:m,onKeyUp:p,onClick:g},b,E,C);return I()({ourProps:P,theirProps:a,slot:R,defaultTag:"button",name:"Menu.Button"})})),sn=w((function(e,n){var a,c;let d=t.useId(),{id:f=`headlessui-menu-items-${d}`,anchor:m,portal:p=!1,modal:g=!0,transition:h=!1,...b}=e,x=function(e){return t.useMemo((()=>e?"string"==typeof e?{to:e}:e:null),[e])}(m),[E,w]=tn("Menu.Items"),[C,R]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let n=t.useContext(at),r=t.useMemo((()=>e),[JSON.stringify(e,((e,t)=>{var n;return null!=(n=null==t?void 0:t.outerHTML)?n:t}))]);l((()=>{null==n||n(null!=r?r:null)}),[n,r]);let o=t.useContext(ut);return t.useMemo((()=>[o.setFloating,e?o.styles:{}]),[o.setFloating,e,o.styles])}(x),P=function(){let{getFloatingProps:e,slot:n}=t.useContext(ut);return t.useCallback(((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor})),[e,n])}(),[M,F]=t.useState(null),T=S(n,x?C:null,y((e=>w({type:8,element:e}))),F),N=xe(E.itemsElement);x&&(p=!0);let A=ht(),[D,L]=Ne(h,M,null!==A?(A&gt.Open)===gt.Open:0===E.menuState);!function(e,n,r){let l=u((e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()}));t.useEffect((()=>{if(!e)return;let t=null===n?null:n instanceof HTMLElement?n:n.current;if(!t)return;let r=i();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver((()=>l.current(t)));e.observe(t),r.add((()=>e.disconnect()))}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver((()=>l.current(t)));e.observe(t),r.add((()=>e.disconnect()))}return()=>r.dispose()}),[n,l,e])}(D,E.buttonElement,(()=>{w({type:1})})),Ce(!E.__demoMode&&(g&&0===E.menuState),N),function(e,{allowed:t,disallowed:n}={}){let r=Y(e,"inert-others");l((()=>{var e,l;if(!r)return;let u=i();for(let t of null!=(e=null==n?void 0:n())?e:[])t&&u.add(z(t));let a=null!=(l=null==t?void 0:t())?l:[];for(let t of a){if(!t)continue;let e=o(t);if(!e)continue;let n=t.parentElement;for(;n&&n!==e.body;){for(let e of n.children)a.some((t=>e.contains(t)))||u.add(z(e));n=n.parentElement}}return u.dispose}),[r,t,n])}(!E.__demoMode&&(g&&0===E.menuState),{allowed:t.useCallback((()=>[E.buttonElement,E.itemsElement]),[E.buttonElement,E.itemsElement])});let k=!function(e,n){let r=t.useRef({left:0,top:0});if(l((()=>{if(!n)return;let e=n.getBoundingClientRect();e&&(r.current=e)}),[e,n]),null==n||!e||n===document.activeElement)return!1;let o=n.getBoundingClientRect();return o.top!==r.current.top||o.left!==r.current.left}(0!==E.menuState,E.buttonElement)&&D;t.useEffect((()=>{let e=E.itemsElement;e&&0===E.menuState&&e!==(null==N?void 0:N.activeElement)&&e.focus({preventScroll:!0})}),[E.menuState,E.itemsElement,N]),function(e,{container:n,accept:r,walk:i}){let u=t.useRef(r),a=t.useRef(i);t.useEffect((()=>{u.current=r,a.current=i}),[r,i]),l((()=>{if(!n||!e)return;let t=o(n);if(!t)return;let r=u.current,l=a.current,i=Object.assign((e=>r(e)),{acceptNode:r}),s=t.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,i,!1);for(;s.nextNode();)l(s.currentNode)}),[n,e,u,a])}(0===E.menuState,{container:E.itemsElement,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let H=s(),j=y((e=>{var t,n,r;switch(H.dispose(),e.key){case _.Space:if(""!==E.searchQuery)return e.preventDefault(),e.stopPropagation(),w({type:3,value:e.key});case _.Enter:if(e.preventDefault(),e.stopPropagation(),w({type:1}),null!==E.activeItemIndex){let{dataRef:e}=E.items[E.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}ce(E.buttonElement);break;case _.ArrowDown:return e.preventDefault(),e.stopPropagation(),w({type:2,focus:xt.Next});case _.ArrowUp:return e.preventDefault(),e.stopPropagation(),w({type:2,focus:xt.Previous});case _.Home:case _.PageUp:return e.preventDefault(),e.stopPropagation(),w({type:2,focus:xt.First});case _.End:case _.PageDown:return e.preventDefault(),e.stopPropagation(),w({type:2,focus:xt.Last});case _.Escape:e.preventDefault(),e.stopPropagation(),v.flushSync((()=>w({type:1}))),null==(r=E.buttonElement)||r.focus({preventScroll:!0});break;case _.Tab:e.preventDefault(),e.stopPropagation(),v.flushSync((()=>w({type:1}))),pe(E.buttonElement,e.shiftKey?le.Previous:le.Next);break;default:1===e.key.length&&(w({type:3,value:e.key}),H.setTimeout((()=>w({type:4})),350))}})),B=y((e=>{if(e.key===_.Space)e.preventDefault()})),$=t.useMemo((()=>({open:0===E.menuState})),[E.menuState]),U=O(x?P():{},{"aria-activedescendant":null===E.activeItemIndex||null==(a=E.items[E.activeItemIndex])?void 0:a.id,"aria-labelledby":null==(c=E.buttonElement)?void 0:c.id,id:f,onKeyDown:j,onKeyUp:B,role:"menu",tabIndex:0===E.menuState?0:void 0,ref:T,style:{...b.style,...R,"--button-width":V(E.buttonElement,!0).width},...Te(L)}),W=I();return r.createElement(At,{enabled:!!p&&(e.static||D)},W({ourProps:U,theirProps:b,slot:$,defaultTag:"div",features:ln,visible:k,name:"Menu.Items"}))})),cn=w((function(e,n){let o=t.useId(),{id:u=`headlessui-menu-item-${o}`,disabled:a=!1,...s}=e,[c,d]=tn("Menu.Item"),f=null!==c.activeItemIndex&&c.items[c.activeItemIndex].id===u,m=t.useRef(null),p=S(n,m);l((()=>{if(!c.__demoMode&&0===c.menuState&&f&&0!==c.activationTrigger)return i().requestAnimationFrame((()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}))}),[c.__demoMode,m,f,c.menuState,c.activationTrigger,c.activeItemIndex]);let v=Gt(m),g=t.useRef({disabled:a,domRef:m,get textValue(){return v()}});l((()=>{g.current.disabled=a}),[g,a]),l((()=>(d({type:5,id:u,dataRef:g}),()=>d({type:6,id:u}))),[g,u]);let h=y((()=>{d({type:1})})),b=y((e=>{if(a)return e.preventDefault();d({type:1}),ce(c.buttonElement)})),x=y((()=>{if(a)return d({type:2,focus:xt.Nothing});d({type:2,focus:xt.Specific,id:u})})),E=function(){let e=t.useRef([-1,-1]);return{wasMoved(t){let n=Ie(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=Ie(t)}}}(),w=y((e=>{E.update(e),!a&&(f||d({type:2,focus:xt.Specific,id:u,trigger:0}))})),C=y((e=>{E.wasMoved(e)&&(a||f||d({type:2,focus:xt.Specific,id:u,trigger:0}))})),R=y((e=>{E.wasMoved(e)&&(a||f&&d({type:2,focus:xt.Nothing}))})),[P,M]=L(),[F,T]=k(),N=t.useMemo((()=>({active:f,focus:f,disabled:a,close:h})),[f,a,h]),A={id:u,ref:p,role:"menuitem",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,"aria-labelledby":P,"aria-describedby":F,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:w,onMouseEnter:w,onPointerMove:C,onMouseMove:C,onPointerLeave:R,onMouseLeave:R},O=I();return r.createElement(M,null,r.createElement(T,null,O({ourProps:A,theirProps:s,slot:N,defaultTag:on,name:"Menu.Item"})))})),dn=w((function(e,t){let[n,l]=L(),o=e,i={ref:t,"aria-labelledby":n,role:"group"},u=I();return r.createElement(l,null,u({ourProps:i,theirProps:o,slot:{},defaultTag:"div",name:"Menu.Section"}))})),fn=w((function(e,n){let r=t.useId(),{id:o=`headlessui-menu-heading-${r}`,...i}=e,u=H();l((()=>u.register(o)),[o,u.register]);let a={id:o,ref:n,role:"presentation",...u.props};return I()({ourProps:a,theirProps:i,slot:{},defaultTag:"header",name:"Menu.Heading"})})),mn=w((function(e,t){let n=e,r={ref:t,role:"separator"};return I()({ourProps:r,theirProps:n,slot:{},defaultTag:"div",name:"Menu.Separator"})})),pn=Object.assign(un,{Button:an,Items:sn,Item:cn,Section:dn,Heading:fn,Separator:mn});const vn=({value:n,onChange:r,options:l,className:o,menuClassName:i,showSearch:u,buttonClassName:a,openUpwards:s,mini:c})=>{const[d,f]=t.useState(""),m=t.useRef(null),[p,g]=t.useState({top:0,left:0,maxHeight:300}),h=l.filter((e=>!(null==d?void 0:d.length)||e.toLowerCase().includes(d.toLowerCase()))),b=document.body;return e.jsxs(pn,{as:"div",className:B("relative inline-block text-left z-40",o),children:[e.jsx("div",{children:e.jsxs(pn.Button,{ref:m,onClick:e=>{(()=>{if(m.current){const e=m.current.getBoundingClientRect(),t=window.innerHeight-e.bottom,n=Math.min(t-10,300);g({top:e.bottom+window.scrollY,left:e.left+window.scrollX,maxHeight:n})}})()},className:B("inline-flex w-full justify-center gap-x-1.5 rounded-md","bg-slate-700 bg-opacity-10 px-3 py-[0.2em] h-6 text-sm font-bold","text-gray-400 shadow-sm ring-1 ring-inset ring-gray-400 hover:bg-opacity-30","h-[2em] items-center",a),children:[n,!c&&e.jsx($,{className:"-mr-1 h-[0.8em] w-5 text-gray-400",icon:U})]})}),e.jsx(Wt,{as:"div",enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:v.createPortal(e.jsx("div",{style:{position:"absolute",top:`${p.top}px`,left:`${p.left}px`,zIndex:1e3},className:B("origin-top-left",{"origin-bottom-right":!s}),children:e.jsx(pn.Items,{as:"div",anchor:s&&"top start",style:{maxHeight:`${p.maxHeight}px`,overflowY:"auto"},className:"z-50 dropdown-menu absolute mt-2 w-[6em] rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none custom-scrollbar",children:e.jsxs("div",{className:"py-1 bg-slate-600 bg-opacity-96",children:[u&&e.jsx("input",{type:"text",className:"w-full text-slate-300 px-4 py-2 text-sm font-normal bg-slate-800",placeholder:"Search...",value:d,onChange:e=>{f(e.target.value)}}),e.jsx("div",{className:B("overflow-y-auto",i),children:h.map(((t,n)=>e.jsx(pn.Item,{children:({active:n})=>e.jsx("button",{onClick:e=>{r(t),f("")},className:B(n?"bg-slate-400 text-blue-100":"text-slate-300","block w-full px-4 py-2 text-left text-sm "),children:t})},n)))})]})})}),b)})]})};export{vn as D};
