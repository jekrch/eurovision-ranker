const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-CphfT_Br.js","assets/redux-BaDTb7KV.js","assets/react-D41Hy763.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,i)=>((t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i)(t,"symbol"!=typeof n?n+"":n,i);import{r as n,a as i,g as a}from"./react-D41Hy763.js";import{c as o,a as r,b as s,r as l,P as u}from"./redux-BaDTb7KV.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const c={},d=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in c)return;c[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise(((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))};var f,y,h={exports:{}},m={};var p,g=(y||(y=1,h.exports=function(){if(f)return m;f=1;var e=n(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function s(e,n,i){var s,l={},u=null,c=null;for(s in void 0!==i&&(u=""+i),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)a.call(n,s)&&!r.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:u,ref:c,props:l,_owner:o.current}}return m.Fragment=i,m.jsx=s,m.jsxs=s,m}()),h.exports),v={};const w=a(function(){if(p)return v;p=1;var e=i();return v.createRoot=e.createRoot,v.hydrateRoot=e.hydrateRoot,v}()),k=[{id:"a",name:"Albania",key:"al",icon:"flag-icon-al"},{id:".p",name:"Andorra",key:"ad",icon:"flag-icon-ad"},{id:"b",name:"Armenia",key:"am",icon:"flag-icon-am"},{id:"c",name:"Australia",key:"au",icon:"flag-icon-au"},{id:".d",name:"Austria",key:"at",icon:"flag-icon-at"},{id:".e",name:"Azerbaijan",key:"az",icon:"flag-icon-az"},{id:".f",name:"Belarus",key:"by",icon:"flag-icon-by"},{id:".g",name:"Belgium",key:"be",icon:"flag-icon-be"},{id:".h",name:"Bulgaria",key:"bg",icon:"flag-icon-bg"},{id:".m",name:"Bosnia & Herzegovina",key:"ba",icon:"flag-icon-ba"},{id:"i",name:"Croatia",key:"hr",icon:"flag-icon-hr"},{id:"j",name:"Cyprus",key:"cy",icon:"flag-icon-cy"},{id:"k",name:"Czechia",key:"cz",icon:"flag-icon-cz"},{id:"l",name:"Denmark",key:"dk",icon:"flag-icon-dk"},{id:"m",name:"Estonia",key:"ee",icon:"flag-icon-ee"},{id:"n",name:"Finland",key:"fi",icon:"flag-icon-fi"},{id:"o",name:"France",key:"fr",icon:"flag-icon-fr"},{id:"p",name:"Georgia",key:"ge",icon:"flag-icon-ge"},{id:"q",name:"Germany",key:"de",icon:"flag-icon-de"},{id:"r",name:"Greece",key:"gr",icon:"flag-icon-gr"},{id:"s",name:"Hungary",key:"hu",icon:"flag-icon-hu"},{id:"t",name:"Iceland",key:"is",icon:"flag-icon-is"},{id:"u",name:"Ireland",key:"ie",icon:"flag-icon-ie"},{id:"v",name:"Israel",key:"il",icon:"flag-icon-il"},{id:"w",name:"Italy",key:"it",icon:"flag-icon-it"},{id:"x",name:"Latvia",key:"lv",icon:"flag-icon-lv"},{id:"y",name:"Lithuania",key:"lt",icon:"flag-icon-lt"},{id:"z",name:"Luxembourg",key:"lu",icon:"flag-icon-lu"},{id:"0",name:"Malta",key:"mt",icon:"flag-icon-mt"},{id:"1",name:"Moldova",key:"md",icon:"flag-icon-md"},{id:"2",name:"Montenegro",key:"me",icon:"flag-icon-me"},{id:".i",name:"Monaco",key:"mc",icon:"flag-icon-mc"},{id:".l",name:"Morocco",key:"ma",icon:"flag-icon-ma"},{id:"3",name:"Netherlands",key:"nl",icon:"flag-icon-nl"},{id:"4",name:"Norway",key:"no",icon:"flag-icon-no"},{id:"5",name:"North Macedonia",key:"mk",icon:"flag-icon-mk"},{id:"6",name:"Poland",key:"pl",icon:"flag-icon-pl"},{id:"7",name:"Portugal",key:"pt",icon:"flag-icon-pt"},{id:"8",name:"Romania",key:"ro",icon:"flag-icon-ro"},{id:"9",name:"Russia",key:"ru",icon:"flag-icon-ru"},{id:".a",name:"San Marino",key:"sm",icon:"flag-icon-sm"},{id:".b",name:"Serbia",key:"rs",icon:"flag-icon-rs"},{id:".o",name:"Serbia & Montenegro",key:"cs",icon:"flag-icon-cs"},{id:".c",name:"Slovenia",key:"si",icon:"flag-icon-si"},{id:".n",name:"Slovakia",key:"sk",icon:"flag-icon-sk"},{id:"d",name:"Spain",key:"es",icon:"flag-icon-es"},{id:"e",name:"Sweden",key:"se",icon:"flag-icon-se"},{id:"f",name:"Switzerland",key:"ch",icon:"flag-icon-ch"},{id:".k",name:"Turkey",key:"tr",icon:"flag-icon-tr"},{id:"g",name:"Ukraine",key:"ua",icon:"flag-icon-ua"},{id:"h",name:"United Kingdom",key:"gb",icon:"flag-icon-gb"},{id:".j",name:"Yugoslavia",key:"yu",icon:"flag-icon-yu"}],b=Array.from({length:70},((e,t)=>(1956+t).toString())).reverse();function _(e){return 2===(null==e?void 0:e.length)?parseInt(e)<40?"20"+e:"19"+e:4===(null==e?void 0:e.length)?e:R}const R="2025";class P{constructor(e){t(this,"id"),t(this,"countryKey"),t(this,"artist"),t(this,"song"),t(this,"_youtube"),t(this,"finalsRank"),t(this,"semiFinalsRank"),t(this,"votes"),t(this,"year"),this.id=e.id,this.countryKey=e.countryKey,this.artist=e.artist,this.song=e.song,this._youtube=e.youtube,this.finalsRank=e.finalsRank,this.semiFinalsRank=e.semiFinalsRank,this.votes=e.votes,this.year=e.year}get youtube(){if(this._youtube)return this._youtube.includes("youtube.com")||this._youtube.includes("youtu.be")||(this._youtube=`https://www.youtube.com/watch?v=${this._youtube}`),this._youtube}set youtube(e){this._youtube=e}toJSON(){return{id:this.id,countryKey:this.countryKey,artist:this.artist,song:this.song,youtube:this.youtube,finalsRank:this.finalsRank,semiFinalsRank:this.semiFinalsRank,votes:this.votes,year:this.year}}}var S,C={exports:{}};
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/const E=a((S||(S=1,C.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,a={},o=0,r={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(b(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!b(i.transform)&&i.transform,i.worker&&r.WORKERS_SUPPORTED){var l=function(){if(!r.WORKERS_SUPPORTED)return!1;var n,i,s=(n=t.URL||t.webkitURL||null,i=e.toString(),r.BLOB_URL||(r.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=p,l.id=o++,a[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=b(i.step),i.chunk=b(i.chunk),i.complete=b(i.complete),i.error=b(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var y,h=null;return r.NODE_STREAM_INPUT,"string"==typeof n?(n=65279===(y=n).charCodeAt(0)?y.slice(1):y,h=i.download?new u(i):new d(i)):!0===n.readable&&b(n.read)&&b(n.on)?h=new f(i):(t.File&&n instanceof File||n instanceof Object)&&(h=new c(i)),h.stream(n)},unparse:function(e,t){var n=!1,i=!0,a=",",o="\r\n",s='"',l=s+s,u=!1,c=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||r.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(h(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return y(null,e,u);if("object"==typeof e[0])return y(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),y(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function y(e,t,n){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&i){for(var u=0;u<e.length;u++)0<u&&(r+=a),r+=m(e[u],u);0<t.length&&(r+=o)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,f=!1,y=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(f="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var h=[],p=0;p<d;p++){var g=l?e[p]:p;h.push(t[c][g])}f=""===h.join("").trim()}if(!f){for(var v=0;v<d;v++){0<v&&!y&&(r+=a);var w=s&&l?e[v]:v;r+=m(t[c][w],v)}c<t.length-1&&(!n||0<d&&!y)&&(r+=o)}}return r}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,i=!0);var o=e.toString().replace(f,l);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,r.BAD_DELIMITERS)||-1<o.indexOf(a)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\ufeff",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!n&&!!t.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=m,r.ParserHandle=y,r.NetworkStreamer=u,r.FileStreamer=c,r.StringStreamer=d,r.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},i=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)i.push({file:this.files[a],inputElem:this,instanceConfig:s.extend({},n)})})),a(),this;function a(){if(0!==i.length){var t,n,a,l,u=i[0];if(b(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",n=u.file,a=u.inputElem,l=c.reason,void(b(e.error)&&e.error({name:t},n,a,l));if("skip"===c.action)return void o();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void o()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){b(d)&&d(e,u.file,u.inputElem),o()},r.parse(u.file,u.instanceConfig)}else b(e.complete)&&e.complete()}function o(){i.splice(0,1),a()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new y(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:s,workerId:r.WORKER_ID,finished:u});else if(b(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!b(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=r.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(o){this._chunkError(o.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=r.LocalChunkSize),l.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=k((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(i){this._streamError(i)}}),this),this._streamError=k((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=k((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=k((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function y(e){var t,n,i,a=Math.pow(2,53),o=-a,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,c=0,d=0,f=!1,y=!1,p=[],g={data:[],errors:[],meta:{}};if(b(e.step)){var v=e.step;e.step=function(t){if(g=t,R())_();else{if(_(),0===g.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():(g.data=g.data[0],v(g,u))}}}function k(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return g&&i&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!k(e)}))),R()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;R()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){b(e.transformHeader)&&(t=e.transformHeader(t,n)),p.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var i,a=e.header?{}:[];for(i=0;i<t.length;i++){var o=i,r=t[i];e.header&&(o=i>=p.length?"__parsed_extra":p[i]),e.transform&&(r=e.transform(r,o)),r=P(o,r),"__parsed_extra"===o?(a[o]=a[o]||[],a[o].push(r)):a[o]=r}return e.header&&(i>p.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+i,d+n):i<p.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+i,d+n)),a}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=p),d+=n,g}()}function R(){return e.header&&0===p.length}function P(t,n){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(o<t&&t<a)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function S(e,t,n,i){var a={type:e,code:t,message:n};void 0!==i&&(a.row=i),g.errors.push(a)}this.parse=function(a,o,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(h(t)+"([^]*?)"+h(t),"gm"),i=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<i[0].length;if(1===i.length||o)return"\n";for(var r=0,s=0;s<i.length;s++)"\n"===i[s][0]&&r++;return r>=i.length/2?"\r\n":"\r"}(a,l)),i=!1,e.delimiter)b(e.delimiter)&&(e.delimiter=e.delimiter(a),g.meta.delimiter=e.delimiter);else{var u=function(t,n,i,a,o){var s,l,u,c;o=o||[",","\t","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var d=0;d<o.length;d++){var f=o[d],y=0,h=0,p=0;u=void 0;for(var g=new m({comments:a,delimiter:f,newline:n,preview:10}).parse(t),v=0;v<g.data.length;v++)if(i&&k(g.data[v]))p++;else{var w=g.data[v].length;h+=w,void 0!==u?0<w&&(y+=Math.abs(w-u),u=w):u=w}0<g.data.length&&(h/=g.data.length-p),(void 0===l||y<=l)&&(void 0===c||c<h)&&1.99<h&&(l=y,s=f,c=h)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(i=!0,e.delimiter=r.DefaultDelimiter),g.meta.delimiter=e.delimiter}var c=w(e);return e.preview&&e.header&&c.preview++,t=a,n=new m(c),g=n.parse(t,o,s),_(),f?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=b(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return y},this.abort=function(){y=!0,n.abort(),g.meta.aborted=!0,b(e.complete)&&e.complete(g),t=""}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,i=e.newline,a=e.comments,o=e.step,s=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<r.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<r.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,d=!1;this.parse=function(r,f,y){if("string"!=typeof r)throw new Error("Input must be a string");var m=r.length,p=n.length,g=i.length,v=a.length,w=b(o),k=[],_=[],R=[],P=c=0;if(!r)return H();if(e.header&&!f){var S=r.split(i)[0].split(n),C=[],E={},F=!1;for(var I in S){var j=S[I];b(e.transformHeader)&&(j=e.transformHeader(j,I));var O=j,A=E[j]||0;for(0<A&&(F=!0,O=j+"_"+A),E[j]=A+1;C.includes(O);)O=O+"_"+A;C.push(O)}if(F){var K=r.split(i);K[0]=C.join(n),r=K.join(i)}}if(l||!1!==l&&-1===r.indexOf(t)){for(var T=r.split(i),x=0;x<T.length;x++){if(R=T[x],c+=R.length,x!==T.length-1)c+=i.length;else if(y)return H();if(!a||R.substring(0,v)!==a){if(w){if(k=[],U(R.split(n)),G(),d)return H()}else U(R.split(n));if(s&&s<=x)return k=k.slice(0,s),H(!0)}}return H()}for(var L=r.indexOf(n,c),D=r.indexOf(i,c),z=new RegExp(h(u)+h(t),"g"),M=r.indexOf(t,c);;)if(r[c]!==t)if(a&&0===R.length&&r.substring(c,c+v)===a){if(-1===D)return H();c=D+g,D=r.indexOf(i,c),L=r.indexOf(n,c)}else if(-1!==L&&(L<D||-1===D))R.push(r.substring(c,L)),c=L+p,L=r.indexOf(n,c);else{if(-1===D)break;if(R.push(r.substring(c,D)),W(D+g),w&&(G(),d))return H();if(s&&k.length>=s)return H(!0)}else for(M=c,c++;;){if(-1===(M=r.indexOf(t,M+1)))return y||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:c}),q();if(M===m-1)return q(r.substring(c,M).replace(z,t));if(t!==u||r[M+1]!==u){if(t===u||0===M||r[M-1]!==u){-1!==L&&L<M+1&&(L=r.indexOf(n,M+1)),-1!==D&&D<M+1&&(D=r.indexOf(i,M+1));var N=B(-1===D?L:Math.min(L,D));if(r.substr(M+1+N,p)===n){R.push(r.substring(c,M).replace(z,t)),r[c=M+1+N+p]!==t&&(M=r.indexOf(t,c)),L=r.indexOf(n,c),D=r.indexOf(i,c);break}var $=B(D);if(r.substring(M+1+$,M+1+$+g)===i){if(R.push(r.substring(c,M).replace(z,t)),W(M+1+$+g),L=r.indexOf(n,c),M=r.indexOf(t,c),w&&(G(),d))return H();if(s&&k.length>=s)return H(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:c}),M++}}else M++}return q();function U(e){k.push(e),P=c}function B(e){var t=0;if(-1!==e){var n=r.substring(M+1,e);n&&""===n.trim()&&(t=n.length)}return t}function q(e){return y||(void 0===e&&(e=r.substring(c)),R.push(e),c=m,U(R),w&&G()),H()}function W(e){c=e,U(R),R=[],D=r.indexOf(i,c)}function H(e){return{data:k,errors:_,meta:{delimiter:n,linebreak:i,aborted:d,truncated:!!e,cursor:P+(f||0)}}}function G(){o(H()),k=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function p(e){var t=e.data,n=a[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){i=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(b(n.userStep)){for(var r=0;r<t.results.data.length&&(n.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},o),!i);r++);delete t.results}else b(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!i&&g(t.workerId,t.results)}function g(e,t){var n=a[e];b(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function v(){throw new Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function k(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===r.WORKER_ID&&n&&(r.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:r.WORKER_ID,results:r.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=r.parse(n.input,n.config);i&&t.postMessage({workerId:r.WORKER_ID,results:i,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,r}()),C.exports));let F=null,I=null;function j(e){const t=e===R;if(!t&&F)return F;if(t&&I)return I;const n=fetch(`/${t?"votesCurrent.csv":"votes.csv"}`).then((e=>e.text()));return t?I=n:F=n,n}let O=null,A=null;function K(e=""){const t=e===R;if(!t&&O)return O;if(t&&A)return A;const n=fetch(`/${t?"mainCurrent.csv":"main.csv"}`).then((e=>e.text()));return t?A=n:O=n,n}let T=null;const x={};function L(e,t,n,i){e=_(e),t=null==t?void 0:t.toLowerCase(),n&&(n=z(n));let a=`${e}-${t}-${n}`;return x[a]?Promise.resolve(x[a]):new Promise(((o,r)=>{j(e).then((e=>e)).then((s=>{E.parse(s,{header:!0,complete:r=>{const s=r.data.filter((a=>!(a.year!==e||(null==t?void 0:t.length)&&a.from_country_id!==t||(null==n?void 0:n.length)&&a.round!==n||(null==i?void 0:i.length)))).map((e=>({year:e.year,round:D(e.round),fromCountryKey:e.from_country_id,toCountryKey:e.to_country_id,totalPoints:e.total_points??parseInt(e.total_points),telePoints:e.tele_points??parseInt(e.tele_points),juryPoints:e.jury_points??parseInt(e.jury_points)})));x[a]=s,o(s)},error:e=>r(e)})})).catch((e=>r(e)))}))}const D=e=>{switch(e){case"f":return"Final";case"sf":return"Semi-Final";case"sf1":return"Semi-Final-1";case"sf2":return"Semi-Final-2";default:throw new Error(e+" not supported")}},z=e=>{switch(null==e?void 0:e.toLowerCase()){case"final":return"f";case"semi-final":return"sf";case"semi-final-1":return"sf1";case"semi-final-2":return"sf2";default:throw new Error(e+" not supported")}};let M,N,$;async function U(e,t,n="final",i){const a=function(e){switch(null==e?void 0:e.toLowerCase()){case"tv":case"tele":case"tele-vote":case"televote":return"telePoints";case"j":case"jury":return"juryPoints";default:return"totalPoints"}}(t),o=await B(e,n,i);return o.sort(((e,t)=>{var n,i;return H(null==(n=t.contestant)?void 0:n.votes,a)-H(null==(i=e.contestant)?void 0:i.votes,a)})),(null==i?void 0:i.length)?o.filter((e=>{var t;return H(null==(t=e.contestant)?void 0:t.votes,a)>0})):o}async function B(e,t,n){const i=function(e){const t=["final","semi-final","semi-final-1","semi-final-2"],n=e.toLowerCase();if(t.includes(n))return n;throw new Error(`Invalid round "${e}" provided. Defaulting to "final".`)}(t),a=new Set(e.filter((e=>{var t;return null==(t=e.contestant)?void 0:t.year})).map((e=>e.contestant.year)));let o;if(a.size>1){const t=e.filter((e=>{var t;return null==(t=e.contestant)?void 0:t.year})).map((e=>({year:e.contestant.year,countryKey:e.country.key})));o=await async function(e,t){const n=new Set(e.map((e=>_(e.year)))),i=new Set(e.map((e=>e.countryKey.toLowerCase())));t&&(t=z(t));const a=`${Array.from(n).join(",")}-${Array.from(i).join(",")}-${t}`;return x[a]?Promise.resolve(x[a]):new Promise(((e,o)=>{j("").then((e=>e)).then((r=>{E.parse(r,{header:!0,complete:o=>{const r=o.data.filter((e=>n.has(e.year)&&i.has(e.to_country_id)&&(!t||e.round===t))).map((e=>({year:e.year,round:D(e.round),fromCountryKey:e.from_country_id,toCountryKey:e.to_country_id,totalPoints:e.total_points?parseInt(e.total_points):0,telePoints:e.tele_points?parseInt(e.tele_points):0,juryPoints:e.jury_points?parseInt(e.jury_points):0})));x[a]=r,e(r)},error:e=>o(e)})})).catch((e=>o(e)))}))}(t,i),n&&(o=o.filter((e=>e.fromCountryKey===n)))}else{const e=1===a.size?_(Array.from(a)[0]):"";o=await async function(e,t,n){return N===n&&M===e||($=await L(e,void 0,n),N=n,M=e),$.filter((e=>!t||e.fromCountryKey==t))}(e,n,i)}return Oe(e,o)}function q(e,t){var n,i;if(!e)return!1;let a=null==(i=null==(n=e.split("-"))?void 0:n[1])?void 0:i.split(".");return null==a?void 0:a.includes(t)}function W(e,t,n){var i,a;if(!e&&!n)return"";e&&e.startsWith("f-")||(e="f-");let o=e.split("-"),r=null==(i=null==o?void 0:o[1])?void 0:i.split(".");(null==(a=null==r?void 0:r[0])?void 0:a.length)||(r=[]),n?r.includes(t)||r.push(t):r=r.filter((e=>e!==t));let s=o[0],l=r.join(".");return(null==l?void 0:l.length)?(s+=`-${l}`,o[2]&&(s+=`-${o[2]}`),s):s}function H(e,t){if(!e)return 0;let n=e[t];return parseInt(n,10)}async function G(e,t){let{fromCountryKey:n,round:i}=J(t);return await B(e,i,n)}function J(e){let t=null==e?void 0:e.split("-"),n=null==t?void 0:t[0];return null==t||t[1],{fromCountryKey:null==t?void 0:t[2],round:function(e){e="f"===e?"final":"sf"===e?"semi-final":"final";return e}(n)}}async function Y(e,t,n){let{fromCountryKey:i,round:a}=J(e);return await L(t,i,a,n)}const Q="2024",V=[{id:"a",uid:"bmi",country:{id:"a",name:"Albania",key:"al",icon:"flag-icon-al"},contestant:{id:"bmi",countryKey:"al",artist:"Besa Kokëdhima",song:"Titan",youtube:"https://www.youtube.com/watch?v=nrjFhjpm7D8",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"b",uid:"bnh",country:{id:"b",name:"Armenia",key:"am",icon:"flag-icon-am"},contestant:{id:"bnh",countryKey:"am",artist:"LADANIVA",song:"Jako",youtube:"https://www.youtube.com/watch?v=_6xfmW0Fc40",finalsRank:"8",semiFinalsRank:"",year:"2024",votes:{totalPoints:183,juryPoints:101,telePoints:82,year:"2024",round:"Final"}}},{id:"c",uid:"bnb",country:{id:"c",name:"Australia",key:"au",icon:"flag-icon-au"},contestant:{id:"bnb",countryKey:"au",artist:"Electric Fields",song:"One Milkali (One Blood)",youtube:"https://www.youtube.com/watch?v=f1wwqQ41txw",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:".d",uid:"bna",country:{id:".d",name:"Austria",key:"at",icon:"flag-icon-at"},contestant:{id:"bna",countryKey:"at",artist:"Kaleen",song:"We Will Rave",youtube:"https://www.youtube.com/watch?v=Kqda15G4T-4",finalsRank:"24",semiFinalsRank:"",year:"2024",votes:{totalPoints:24,juryPoints:19,telePoints:5,year:"2024",round:"Final"}}},{id:".e",uid:"bni",country:{id:".e",name:"Azerbaijan",key:"az",icon:"flag-icon-az"},contestant:{id:"bni",countryKey:"az",artist:"FAHREE feat. Ilkin Dovlatov",song:"Özünlə Apar",youtube:"https://www.youtube.com/watch?v=NNhAk4rVgNc",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:".g",uid:"bm0",country:{id:".g",name:"Belgium",key:"be",icon:"flag-icon-be"},contestant:{id:"bm0",countryKey:"be",artist:"Mustii",song:"Before the Party's Over",youtube:"https://www.youtube.com/watch?v=WCe9zrWEFNc",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"i",uid:"bm1",country:{id:"i",name:"Croatia",key:"hr",icon:"flag-icon-hr"},contestant:{id:"bm1",countryKey:"hr",artist:"Baby Lasagna",song:"Rim Tim Tagi Dim",youtube:"https://www.youtube.com/watch?v=kmg8EAD-Kjw",finalsRank:"2",semiFinalsRank:"",year:"2024",votes:{totalPoints:547,juryPoints:210,telePoints:337,year:"2024",round:"Final"}}},{id:"j",uid:"bm2",country:{id:"j",name:"Cyprus",key:"cy",icon:"flag-icon-cy"},contestant:{id:"bm2",countryKey:"cy",artist:"Silia Kapsis",song:"Liar",youtube:"https://www.youtube.com/watch?v=8q5QozrtEPA",finalsRank:"15",semiFinalsRank:"",year:"2024",votes:{totalPoints:78,juryPoints:34,telePoints:44,year:"2024",round:"Final"}}},{id:"k",uid:"bmj",country:{id:"k",name:"Czechia",key:"cz",icon:"flag-icon-cz"},contestant:{id:"bmj",countryKey:"cz",artist:"Aiko",song:"Pedestal",youtube:"https://www.youtube.com/watch?v=5DbRldMKFUU",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"l",uid:"bmv",country:{id:"l",name:"Denmark",key:"dk",icon:"flag-icon-dk"},contestant:{id:"bmv",countryKey:"dk",artist:"Saba",song:"Sand",youtube:"https://www.youtube.com/watch?v=3pCtdFnv9eQ",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"m",uid:"bmw",country:{id:"m",name:"Estonia",key:"ee",icon:"flag-icon-ee"},contestant:{id:"bmw",countryKey:"ee",artist:"5miinust and Puuluup",song:"(Nendest) narkootikumidest ei tea me (küll) midagi",youtube:"https://www.youtube.com/watch?v=ui_u0M7_hjs",finalsRank:"20",semiFinalsRank:"",year:"2024",votes:{totalPoints:37,juryPoints:4,telePoints:33,year:"2024",round:"Final"}}},{id:"n",uid:"bms",country:{id:"n",name:"Finland",key:"fi",icon:"flag-icon-fi"},contestant:{id:"bms",countryKey:"fi",artist:"Windows95man",song:"No Rules!",youtube:"https://www.youtube.com/watch?v=Tf1NS1vEhSg",finalsRank:"19",semiFinalsRank:"",year:"2024",votes:{totalPoints:38,juryPoints:7,telePoints:31,year:"2024",round:"Final"}}},{id:"o",uid:"bmk",country:{id:"o",name:"France",key:"fr",icon:"flag-icon-fr"},contestant:{id:"bmk",countryKey:"fr",artist:"Slimane",song:"Mon amour",youtube:"https://www.youtube.com/watch?v=bal8oESDH7s",finalsRank:"4",semiFinalsRank:"",year:"2024",votes:{totalPoints:445,juryPoints:218,telePoints:227,year:"2024",round:"Final"}}},{id:"p",uid:"bng",country:{id:"p",name:"Georgia",key:"ge",icon:"flag-icon-ge"},contestant:{id:"bng",countryKey:"ge",artist:"Nutsa Buzaladze",song:"Firefighter",youtube:"https://www.youtube.com/watch?v=blMwY8Jabyk",finalsRank:"21",semiFinalsRank:"",year:"2024",votes:{totalPoints:34,juryPoints:15,telePoints:19,year:"2024",round:"Final"}}},{id:"q",uid:"bmx",country:{id:"q",name:"Germany",key:"de",icon:"flag-icon-de"},contestant:{id:"bmx",countryKey:"de",artist:"Isaak",song:"Always on the Run",youtube:"https://www.youtube.com/watch?v=twhq3S4YHdQ",finalsRank:"12",semiFinalsRank:"",year:"2024",votes:{totalPoints:117,juryPoints:99,telePoints:18,year:"2024",round:"Final"}}},{id:"r",uid:"bnd",country:{id:"r",name:"Greece",key:"gr",icon:"flag-icon-gr"},contestant:{id:"bnd",countryKey:"gr",artist:"Marina Satti",song:"ZARI",youtube:"https://www.youtube.com/watch?v=mTSTnLWGUPs",finalsRank:"11",semiFinalsRank:"",year:"2024",votes:{totalPoints:126,juryPoints:41,telePoints:85,year:"2024",round:"Final"}}},{id:"t",uid:"bm7",country:{id:"t",name:"Iceland",key:"is",icon:"flag-icon-is"},contestant:{id:"bm7",countryKey:"is",artist:"Hera Björk",song:"Scared of Heights",youtube:"https://www.youtube.com/watch?v=i0zn27qa1BA",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"u",uid:"bml",country:{id:"u",name:"Ireland",key:"ie",icon:"flag-icon-ie"},contestant:{id:"bml",countryKey:"ie",artist:"Bambie Thug",song:"Doomsday Blue",youtube:"https://www.youtube.com/watch?v=n73nIfFI3k4",finalsRank:"6",semiFinalsRank:"",year:"2024",votes:{totalPoints:278,juryPoints:142,telePoints:136,year:"2024",round:"Final"}}},{id:"v",uid:"bnc",country:{id:"v",name:"Israel",key:"il",icon:"flag-icon-il"},contestant:{id:"bnc",countryKey:"il",artist:"Eden Golan",song:"Hurricane",youtube:"https://www.youtube.com/watch?v=lJYn09tuPw4",finalsRank:"5",semiFinalsRank:"",year:"2024",votes:{totalPoints:375,juryPoints:52,telePoints:323,year:"2024",round:"Final"}}},{id:"w",uid:"bmt",country:{id:"w",name:"Italy",key:"it",icon:"flag-icon-it"},contestant:{id:"bmt",countryKey:"it",artist:"Angelina Mango",song:"La noia",youtube:"https://www.youtube.com/watch?v=psiytW9Or2s",finalsRank:"7",semiFinalsRank:"",year:"2024",votes:{totalPoints:268,juryPoints:164,telePoints:104,year:"2024",round:"Final"}}},{id:"x",uid:"bmu",country:{id:"x",name:"Latvia",key:"lv",icon:"flag-icon-lv"},contestant:{id:"bmu",countryKey:"lv",artist:"Dons",song:"Hollow",youtube:"https://www.youtube.com/watch?v=V_Jhif6qXyY",finalsRank:"16",semiFinalsRank:"",year:"2024",votes:{totalPoints:64,juryPoints:36,telePoints:28,year:"2024",round:"Final"}}},{id:"y",uid:"bmy",country:{id:"y",name:"Lithuania",key:"lt",icon:"flag-icon-lt"},contestant:{id:"bmy",countryKey:"lt",artist:"Silvester Belt",song:"Luktelk",youtube:"https://www.youtube.com/watch?v=OrL668EQRu0",finalsRank:"14",semiFinalsRank:"",year:"2024",votes:{totalPoints:90,juryPoints:32,telePoints:58,year:"2024",round:"Final"}}},{id:"z",uid:"bmm",country:{id:"z",name:"Luxembourg",key:"lu",icon:"flag-icon-lu"},contestant:{id:"bmm",countryKey:"lu",artist:"Tali",song:"Fighter",youtube:"https://www.youtube.com/watch?v=HV3sORfrREE",finalsRank:"13",semiFinalsRank:"",year:"2024",votes:{totalPoints:103,juryPoints:83,telePoints:20,year:"2024",round:"Final"}}},{id:"0",uid:"bmn",country:{id:"0",name:"Malta",key:"mt",icon:"flag-icon-mt"},contestant:{id:"bmn",countryKey:"mt",artist:"Sarah Bonnici",song:"Loop",youtube:"https://www.youtube.com/watch?v=-IIxDNyIBdE",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"1",uid:"bmz",country:{id:"1",name:"Moldova",key:"md",icon:"flag-icon-md"},contestant:{id:"bmz",countryKey:"md",artist:"Natalia Barbu",song:"In the Middle",youtube:"https://www.youtube.com/watch?v=Jom9sNL5whs",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"3",uid:"bm3",country:{id:"3",name:"Netherlands",key:"nl",icon:"flag-icon-nl"},contestant:{id:"bm3",countryKey:"nl",artist:"Joost Klein",song:"Europapa",youtube:"https://www.youtube.com/watch?v=gT2wY0DjYGo",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"4",uid:"bmo",country:{id:"4",name:"Norway",key:"no",icon:"flag-icon-no"},contestant:{id:"bmo",countryKey:"no",artist:"Gåte",song:"Ulveham",youtube:"https://www.youtube.com/watch?v=UipzszlJwRQ",finalsRank:"25",semiFinalsRank:"",year:"2024",votes:{totalPoints:16,juryPoints:12,telePoints:4,year:"2024",round:"Final"}}},{id:"6",uid:"bm4",country:{id:"6",name:"Poland",key:"pl",icon:"flag-icon-pl"},contestant:{id:"bm4",countryKey:"pl",artist:"Luna",song:"The Tower",youtube:"https://www.youtube.com/watch?v=IhvDkF9XZx0",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:"7",uid:"bne",country:{id:"7",name:"Portugal",key:"pt",icon:"flag-icon-pt"},contestant:{id:"bne",countryKey:"pt",artist:"Iolanda",song:"Grito",youtube:"https://www.youtube.com/watch?v=K5wDGhcDSpQ",finalsRank:"10",semiFinalsRank:"",year:"2024",votes:{totalPoints:152,juryPoints:139,telePoints:13,year:"2024",round:"Final"}}},{id:".a",uid:"bm5",country:{id:".a",name:"San Marino",key:"sm",icon:"flag-icon-sm"},contestant:{id:"bm5",countryKey:"sm",artist:"Megara",song:"11:11",youtube:"https://www.youtube.com/watch?v=f1tgNLfcIOw",finalsRank:"",semiFinalsRank:"",year:"2024"}},{id:".b",uid:"bm8",country:{id:".b",name:"Serbia",key:"rs",icon:"flag-icon-rs"},contestant:{id:"bm8",countryKey:"rs",artist:"Teya Dora",song:"Ramonda",youtube:"https://www.youtube.com/watch?v=SDXB0mXFR34",finalsRank:"17",semiFinalsRank:"",year:"2024",votes:{totalPoints:54,juryPoints:22,telePoints:32,year:"2024",round:"Final"}}},{id:".c",uid:"bmp",country:{id:".c",name:"Slovenia",key:"si",icon:"flag-icon-si"},contestant:{id:"bmp",countryKey:"si",artist:"Raiven",song:"Veronika",youtube:"https://www.youtube.com/watch?v=uWcSsi7SliI",finalsRank:"23",semiFinalsRank:"",year:"2024",votes:{totalPoints:27,juryPoints:15,telePoints:12,year:"2024",round:"Final"}}},{id:"d",uid:"bmq",country:{id:"d",name:"Spain",key:"es",icon:"flag-icon-es"},contestant:{id:"bmq",countryKey:"es",artist:"Nebulossa",song:"Zorra",youtube:"https://www.youtube.com/watch?v=GdagS_0hX8k",finalsRank:"22",semiFinalsRank:"",year:"2024",votes:{totalPoints:30,juryPoints:19,telePoints:11,year:"2024",round:"Final"}}},{id:"e",uid:"bnf",country:{id:"e",name:"Sweden",key:"se",icon:"flag-icon-se"},contestant:{id:"bnf",countryKey:"se",artist:"Marcus & Martinus",song:"Unforgettable",youtube:"https://www.youtube.com/watch?v=yekc8t0rJqA",finalsRank:"9",semiFinalsRank:"",year:"2024",votes:{totalPoints:166,juryPoints:117,telePoints:49,year:"2024",round:"Final"}}},{id:"f",uid:"bm6",country:{id:"f",name:"Switzerland",key:"ch",icon:"flag-icon-ch"},contestant:{id:"bm6",countryKey:"ch",artist:"Nemo",song:"The Code",youtube:"https://www.youtube.com/watch?v=kiGDvM14Kwg",finalsRank:"1",semiFinalsRank:"",year:"2024",votes:{totalPoints:591,juryPoints:365,telePoints:226,year:"2024",round:"Final"}}},{id:"g",uid:"bmr",country:{id:"g",name:"Ukraine",key:"ua",icon:"flag-icon-ua"},contestant:{id:"bmr",countryKey:"ua",artist:"Alyona Alyona and Jerry Heil",song:"Teresa & Maria",youtube:"https://www.youtube.com/watch?v=k_8cNbF8FLI",finalsRank:"3",semiFinalsRank:"",year:"2024",votes:{totalPoints:453,juryPoints:146,telePoints:307,year:"2024",round:"Final"}}},{id:"h",uid:"bm9",country:{id:"h",name:"United Kingdom",key:"gb",icon:"flag-icon-gb"},contestant:{id:"bm9",countryKey:"gb",artist:"Olly Alexander",song:"Dizzy",youtube:"https://www.youtube.com/watch?v=lLNUj7kvn2w",finalsRank:"18",semiFinalsRank:"",year:"2024",votes:{totalPoints:46,juryPoints:46,year:"2024",round:"Final"}}}];async function X(e,t=""){return _(e)!==Q||function(e){var t;if(!e.length)return!1;let n=e.split("-");return 3===(null==n?void 0:n.length)&&(null==(t=n[2])?void 0:t.length)}(t)?await async function(e,t){let n=await async function(e){return e=_(e),await function(e){if(ee[e])return Promise.resolve(ee[e]);return ae(e).then((t=>{const n=ne(t,(t=>t.year===e));return ee[e]=n,n}))}(e)}(e);return await Z(n,t)}(e,t):be(V)}async function Z(e,t){let n=e.map((e=>{let t="1956"===_(null==e?void 0:e.year)&&e.countryKey.endsWith("2"),n=e.countryKey;t&&(n=n.slice(0,-2));let i=function(e,t){var n;let i=k.find((t=>t.key===e));i||("czech republic"===(null==(n=t.countryKey)?void 0:n.toLowerCase())&&(t.countryKey="Czechia"),i=k.find((e=>e.name===t.countryKey)),i&&(t.countryKey=i.key));return i}(n,e);if(!i)throw new Error(`No matching country found for contestant with countryKey: ${e.countryKey}`);if(t){let t={...i};return t.name+=" (2)",{id:"_"+i.id,uid:null==e?void 0:e.id,country:t,contestant:e}}return{id:i.id,uid:null==e?void 0:e.id,country:i,contestant:e}})).sort(((e,t)=>e.country.name.localeCompare(t.country.name)));return await G(n,t??"")}const ee={},te={};function ne(e,t){const n=new Map;return e.data.filter(t).forEach((e=>{const t=`${e.year}-${e.to_country_id}`;e.yearCountry=t,n.has(t)?function(e,t,n){const[i,a]=t.split("-");if("1956"!==i){const i=e.get(t);n.place_contest&&(i.finalsRank=n.place_contest),n.place_sf&&(i.semiFinalsRank=n.place_sf)}else{const i=ie(n);i.countryKey=`${a}-2`,e.set(`${t}-2`,i)}}(n,t,e):n.set(t,ie(e))})),Array.from(n.values())}function ie(e){var t;const n={id:e.id,countryKey:e.to_country_id,artist:e.performer,song:e.song,youtube:e.youtube_url,finalsRank:(null==(t=e.place_contest)?void 0:t.length)?e.place_contest:e.place_final,semiFinalsRank:e.place_sf,year:e.year,votes:{round:"Final",year:e.year,totalPoints:e.points_final,telePoints:e.points_tele_final,juryPoints:e.points_jury_final}};return new P(n)}function ae(e=""){return new Promise(((t,n)=>{K(e).then((e=>e)).then((e=>{E.parse(e,{header:!0,complete:e=>t(e),error:e=>n(e)})})).catch((e=>n(e)))}))}async function oe(e,t=fe("v")??""){const n=await function(e){const t=[],n=[];if(e.forEach((e=>{e in te?t.push(te[e]):n.push(e)})),0===n.length)return Promise.resolve(t);return ae().then((e=>{const i=ne(e,(e=>n.includes(e.id)));return i.forEach((e=>{te[`${e.year}-${e.countryKey}`]=e})),[...t,...i]}))}(e),i=await Z(n,t),a=new Map(i.map((e=>[e.uid,e])));return e.map((e=>{const t=a.get(e);return t})).filter((e=>void 0!==e))}function re(e){return(null==e?void 0:e.length)?ae().then((t=>ne(t,(t=>{var n;return(null==(n=t.to_country)?void 0:n.toLowerCase())===(null==e?void 0:e.toLowerCase())})))):Promise.resolve([])}function se(e){return new Promise(((t,n)=>{K("").then((e=>e)).then((i=>{E.parse(i,{header:!0,complete:i=>{const a=i.data.find((t=>t.id===e));a?function(){if(T)return T;const e=fetch("/lyrics.csv").then((e=>e.text()));return T=e,e}().then((e=>e)).then((i=>{E.parse(i,{header:!0,complete:n=>{const i=n.data.find((t=>t.id===e));t(i?{lyrics:i.lyrics,engLyrics:i.eng_lyrics,composers:a.composers,lyricists:a.lyricists}:void 0)},error:e=>n(e)})})).catch((e=>n(e))):t(void 0)},error:e=>n(e)})})).catch((e=>n(e)))}))}async function le(e,t,n,i,a){const o="t"===i;let r;if(o||(r=await X(e,n??""),a(Ge(r))),t){const{rankedIds:e,rankedCountries:n}=await async function(e,t,n,i){const a=he(e,n);if(n){return{rankedIds:a,rankedCountries:await oe(a,i)}}const o=a.map((e=>{let i=null==t?void 0:t.find((t=>n?t.uid===e:t.id===e));if(i)return i;if(!n){const t=k.find((t=>t.id===e));if(t)return function(e){return{id:e.id,country:e,contestant:null}}(t)}})).filter(Boolean);return{rankedIds:a,rankedCountries:o}}(t,r,o);if(a(We(n)),o)a(He([]));else{const t=null==r?void 0:r.filter((t=>!e.includes(t.id)));a(He(t))}return e}o?(a(We(r??[])),a(He([]))):(a(We([])),a(He(r??[])))}function ue(e){var t,n;return null==(n=null==(t=de(e).rankings)?void 0:t.replace(">",""))?void 0:n.length}async function ce(e,t){const n=de(e);return((e,t)=>{let{rankingName:n,contestYear:i,theme:a,voteCode:o,comparisonMode:r,globalMode:s,showThumbnail:l,showPlace:u}=e;n&&t(ze(n)),t(st("t"===s)),t(Ve("t"===r)),t(Xe("f"!==l)),t(Ze("t"===u)),t(Ne(a??"")),t($e(o??"")),(null==i?void 0:i.length)?(i=_(i),t(Me(i))):t(Me(R))})(n,t),await le(n.contestYear||R,n.rankings,n.voteCode,n.globalMode,t)}function de(e){const t=new URLSearchParams(window.location.search);return ge(t,e)}function fe(e){return new URLSearchParams(window.location.search).get(e)}const ye=(e,t=me("g","t"))=>{const n=e.map((e=>t?e.uid:e.id));return t?`>${n.join("")}`:n.join("")};function he(e,t){if(t||e.startsWith(">"))return e.startsWith(">")&&e.slice(1).match(/.{1,3}/g)||[];let n=[],i=0;for(;i<e.length;)"_"===e[i]?i+1<e.length?"."===e[i+1]&&i+2<e.length?(n.push(e.substring(i,i+3)),i+=3):(n.push(e.substring(i,i+2)),i+=2):(n.push(e[i]),i+=1):"."===e[i]&&i+1<e.length?(n.push(e.substring(i,i+2)),i+=2):(n.push(e[i]),i+=1);return Array.from(new Set(n))}function me(e,t){const n=new URLSearchParams(window.location.search).get(e);return null!==n&&n===t}function pe(e){const t=new URL(window.location.href),n=t.searchParams;e.forEach(((e,t)=>{const i=`r${t+1}`;n.delete(i)})),n.delete("r"),t.search=n.toString(),window.history.pushState(null,"",t.toString())}const ge=(e,t)=>({rankingName:e.get("n"),contestYear:e.get("y"),rankings:e.get(`r${void 0!==t?t+1:""}`),theme:e.get("t"),voteCode:e.get("v"),comparisonMode:e.get("cm"),globalMode:e.get("g"),showThumbnail:e.get("p"),showPlace:e.get("pl")}),ve=async(e,t,n,i=me("g","t"))=>{const a=ye(n,i);(null==t?void 0:t.length)>0&&void 0!==e?we({[`r${e+1}`]:a}):we({r:a})};function we(e){const t=new URLSearchParams(window.location.search);Object.keys(e).forEach((n=>{e[n]?t.set(n,e[n]):t.delete(n)}));const n="?"+t.toString();n!==window.location.search&&window.history.pushState(null,"",n)}function ke(e,t){let n=function(e){return`${window.location.origin}${window.location.pathname}${e}`}(e);t&&(n+=`&t=${t}`),window.location.href=n}function be(e){return JSON.parse(JSON.stringify(e))}const _e=e=>{const t=e.map((e=>{var t;return null==(t=null==e?void 0:e.contestant)?void 0:t.year})).filter((e=>void 0!==e));return Array.from(new Set(t))};function Re(e,t,n){const i={};e.forEach(((e,a)=>{const o=`r${a+1}`;let r=fe(o)||"";t&&!Pe(r)?r=function(e,t){var n,i;let a=[];const o=he(e);for(const r of o){const e=null==(i=null==(n=t.filter((e=>e.id===r)))?void 0:n[0])?void 0:i.uid;e&&a.push(e)}return e=`>${a.join("")}`,e}(r,n):!t&&Pe(r)&&(r=function(e,t){var n,i;let a=[];const o=he(e);for(const r of o){const e=null==(i=null==(n=t.filter((e=>e.uid===r)))?void 0:n[0])?void 0:i.id;e&&a.push(e)}return e=`${a.join("")}`,e}(r,n)),i[o]=r})),we(i)}function Pe(e){return(null==e?void 0:e.length)>0&&">"===(null==e?void 0:e[0])}function Se(e){var t;if((null==e?void 0:e.length)&&"All"!==e){const n=null==(t=k.find((t=>t.name===e)))?void 0:t.key;return null==n||n.length,n}}function Ce(e){return e.some((e=>{var t,n,i,a;return(null==(n=null==(t=null==e?void 0:e.contestant)?void 0:t.votes)?void 0:n.juryPoints)&&(null==(a=null==(i=null==e?void 0:e.contestant)?void 0:i.votes)?void 0:a.juryPoints)>0}))}function Ee(e){return e.some((e=>{var t,n,i,a;return(null==(n=null==(t=null==e?void 0:e.contestant)?void 0:t.votes)?void 0:n.telePoints)&&(null==(a=null==(i=null==e?void 0:e.contestant)?void 0:i.votes)?void 0:a.telePoints)>0}))}function Fe(e){return e=_(e),parseInt(e)>2016?["Total","Televote","Jury"]:["Total"]}function Ie(e){if(e)switch(null==e?void 0:e.toLowerCase()){case"jury":return"j";case"total":return"t";case"tele":case"televote":return"tv";default:return}}function je(e,t,n){let i=`${e}-${t}`;const a=Se(n);return(null==a?void 0:a.length)&&(i+=`-${a}`),i}function Oe(e,t){const n=function(e){const t={};return e.forEach((e=>{let n=t[Ae(e)];n||(n={totalPoints:void 0,juryPoints:void 0,telePoints:void 0,year:e.year,round:e.round},t[Ae(e)]=n);let i=Ke(e,"totalPoints"),a=Ke(e,"juryPoints"),o=Ke(e,"telePoints");i&&(n.totalPoints||(n.totalPoints=0),n.totalPoints+=i),a&&(n.juryPoints||(n.juryPoints=0),n.juryPoints+=a),o&&(n.telePoints||(n.telePoints=0),n.telePoints+=o)})),t}(t);return(e=be(e)).forEach((e=>{var t,i;e.contestant&&(e.contestant.votes=n[(t=e,`${t.country.key}-${null==(i=null==t?void 0:t.contestant)?void 0:i.year}`)]||void 0)})),e}function Ae(e){return`${e.toCountryKey}-${e.year}`}function Ke(e,t){let n=e[t];return parseInt(n,10)}const Te=o("table/sortTable",(async(e,{getState:t})=>{const n=t(),i=n.tableState.sortColumn,a=n.tableState.sortDirection;let o="asc";return e===i&&(o="asc"===a?"desc":"asc"),{column:e,direction:o}})),xe=o("table/filterTable",(async(e,{getState:t})=>e)),Le=o("table/changePageSize",(async(e,{getState:t})=>e));o("items/addAllUnranked",(async(e,{dispatch:t,getState:n})=>{const i=n(),{rankedItems:a,unrankedItems:o,categories:r}=i;if(t(He([])),t(We(a.concat(o))),r.length>0){const e=new URLSearchParams(window.location.search);r.forEach(((t,n)=>{const i=`r${n+1}`,a=`${e.get(i)||""}${o.map((e=>e.country.id)).join("")}`;e.set(i,a)}));const t=`${window.location.pathname}?${e.toString()}`;window.history.replaceState(null,"",t)}return{rankedItems:a.concat(o),unrankedItems:[]}}));const De=r({name:"root",initialState:{name:"",year:"",theme:"",vote:"loading",globalSearch:!1,showUnranked:!1,isDeleteMode:!1,headerMenuOpen:!1,contestants:[],rankedItems:[],unrankedItems:[],categories:[],activeCategory:void 0,showTotalRank:!1,showComparison:!1,showThumbnail:!0,showPlace:!1,welcomeOverlayIsOpen:!1,tableState:{sortColumn:"year",sortDirection:"desc",filters:{},pageSize:10,currentPage:1,filteredEntries:[],entries:[],searchTerm:"",selectedContestants:[],paginatedContestants:[]}},reducers:{setName:(e,t)=>{e.name=t.payload},setYear:(e,t)=>{e.year=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setVote:(e,t)=>{e.vote=t.payload},setShowUnranked:(e,t)=>{e.showUnranked=t.payload},setIsDeleteMode:(e,t)=>{e.isDeleteMode=t.payload},setHeaderMenuOpen:(e,t)=>{e.headerMenuOpen=t.payload},setWelcomeOverlayIsOpen:(e,t)=>{e.welcomeOverlayIsOpen=t.payload},setRankedItems:(e,t)=>{e.rankedItems=t.payload},setUnrankedItems:(e,t)=>{e.unrankedItems=t.payload},setContestants:(e,t)=>{e.contestants=t.payload},setCategories:(e,t)=>{e.categories=t.payload},setActiveCategory:(e,t)=>{e.activeCategory=t.payload},setShowTotalRank:(e,t)=>{e.showTotalRank=t.payload},setShowComparison:(e,t)=>{e.showComparison=t.payload},setShowThumbnail:(e,t)=>{e.showThumbnail=t.payload},setShowPlace:(e,t)=>{e.showPlace=t.payload},setGlobalSearch:(e,t)=>{e.globalSearch=t.payload},assignVotesToContestants:(e,t)=>{const n=t.payload;e.contestants=Oe(be(e.contestants),n),e.rankedItems=Oe(be(e.rankedItems),n),e.unrankedItems=Oe(be(e.unrankedItems),n)},setTableCurrentPage:(e,t)=>{e.tableState.currentPage=t.payload},setEntries:(e,t)=>{e.tableState.entries=t.payload},setSelectedContestants:(e,t)=>{e.tableState.selectedContestants=t.payload},setPaginatedContestants:(e,t)=>{e.tableState.paginatedContestants=t.payload},toggleSelectedContestant:(e,t)=>{const n=t.payload,i=e.tableState.selectedContestants.findIndex((e=>e.id===n));if(-1!==i)e.tableState.selectedContestants.splice(i,1);else{const t=e.tableState.entries.find((e=>e.id===n));t&&e.tableState.selectedContestants.push(t)}},addAllPaginatedContestants:e=>{const t=e.tableState.paginatedContestants.filter((t=>!e.tableState.selectedContestants.some((e=>e.id===t.id))));e.tableState.selectedContestants=[...e.tableState.selectedContestants,...t]}},extraReducers:e=>{e.addCase(Te.fulfilled,((e,t)=>{e.tableState.sortColumn=t.payload.column,e.tableState.sortDirection=t.payload.direction})).addCase(xe.fulfilled,((e,t)=>{e.tableState.filters=t.payload,e.tableState.currentPage=1})).addCase(Le.fulfilled,((e,t)=>{e.tableState.pageSize=t.payload,e.tableState.currentPage=1}))}}),{setName:ze,setYear:Me,setTheme:Ne,setVote:$e,setShowUnranked:Ue,setIsDeleteMode:Be,setHeaderMenuOpen:qe,setRankedItems:We,setUnrankedItems:He,setContestants:Ge,setCategories:Je,setActiveCategory:Ye,setShowTotalRank:Qe,setShowComparison:Ve,setShowThumbnail:Xe,setShowPlace:Ze,assignVotesToContestants:et,setTableCurrentPage:tt,setEntries:nt,toggleSelectedContestant:it,setSelectedContestants:at,setPaginatedContestants:ot,addAllPaginatedContestants:rt,setGlobalSearch:st,setWelcomeOverlayIsOpen:lt}=De.actions,ut=s({reducer:De.reducer}),ct=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dt=l.lazy((()=>d((()=>import("./App-CphfT_Br.js").then((e=>e.aG))),__vite__mapDeps([0,1,2])))),ft=()=>g.jsx("div",{className:"w-full h-full normal-bg","aria-label":"Loading"});w.createRoot(document.getElementById("root")).render(g.jsx(u,{store:ut,children:g.jsx(l.Suspense,{fallback:g.jsx(ft,{}),children:g.jsx(dt,{})})}));export{G as $,Re as A,tt as B,ot as C,K as D,nt as E,oe as F,Te as G,xe as H,Le as I,_e as J,ze as K,Ve as L,k as M,Ee as N,Ce as O,E as P,re as Q,ke as R,je as S,_ as T,U,Ne as V,W,$e as X,Xe as Y,Ze as Z,d as _,Ye as a,Y as a0,et as a1,Fe as a2,de as a3,Ie as a4,Se as a5,se as a6,be as a7,ct as a8,Qe as b,he as c,Je as d,Ue as e,X as f,Ge as g,He as h,We as i,g as j,at as k,ce as l,pe as m,ve as n,Be as o,rt as p,ue as q,ye as r,lt as s,st as t,we as u,q as v,qe as w,Me as x,b as y,fe as z};
