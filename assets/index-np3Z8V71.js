const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-A7yzCLz8.js","assets/redux-BaDTb7KV.js","assets/react-D41Hy763.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{r as n,a as r,g as i}from"./react-D41Hy763.js";import{c as a,a as o,b as s,r as l,P as u}from"./redux-BaDTb7KV.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const c={},d=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in c)return;c[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};var f,h,p={exports:{}},y={};var m,g=(h||(h=1,p.exports=function(){if(f)return y;f=1;var e=n(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(e,n,r){var s,l={},u=null,c=null;for(s in void 0!==r&&(u=""+r),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)i.call(n,s)&&!o.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:u,ref:c,props:l,_owner:a.current}}return y.Fragment=r,y.jsx=s,y.jsxs=s,y}()),p.exports),v={};const _=i(function(){if(m)return v;m=1;var e=r();return v.createRoot=e.createRoot,v.hydrateRoot=e.hydrateRoot,v}()),k=[{id:"a",name:"Albania",key:"al",icon:"flag-icon-al"},{id:".p",name:"Andorra",key:"ad",icon:"flag-icon-ad"},{id:"b",name:"Armenia",key:"am",icon:"flag-icon-am"},{id:"c",name:"Australia",key:"au",icon:"flag-icon-au"},{id:".d",name:"Austria",key:"at",icon:"flag-icon-at"},{id:".e",name:"Azerbaijan",key:"az",icon:"flag-icon-az"},{id:".f",name:"Belarus",key:"by",icon:"flag-icon-by"},{id:".g",name:"Belgium",key:"be",icon:"flag-icon-be"},{id:".h",name:"Bulgaria",key:"bg",icon:"flag-icon-bg"},{id:".m",name:"Bosnia & Herzegovina",key:"ba",icon:"flag-icon-ba"},{id:"i",name:"Croatia",key:"hr",icon:"flag-icon-hr"},{id:"j",name:"Cyprus",key:"cy",icon:"flag-icon-cy"},{id:"k",name:"Czechia",key:"cz",icon:"flag-icon-cz"},{id:"l",name:"Denmark",key:"dk",icon:"flag-icon-dk"},{id:"m",name:"Estonia",key:"ee",icon:"flag-icon-ee"},{id:"n",name:"Finland",key:"fi",icon:"flag-icon-fi"},{id:"o",name:"France",key:"fr",icon:"flag-icon-fr"},{id:"p",name:"Georgia",key:"ge",icon:"flag-icon-ge"},{id:"q",name:"Germany",key:"de",icon:"flag-icon-de"},{id:"r",name:"Greece",key:"gr",icon:"flag-icon-gr"},{id:"s",name:"Hungary",key:"hu",icon:"flag-icon-hu"},{id:"t",name:"Iceland",key:"is",icon:"flag-icon-is"},{id:"u",name:"Ireland",key:"ie",icon:"flag-icon-ie"},{id:"v",name:"Israel",key:"il",icon:"flag-icon-il"},{id:"w",name:"Italy",key:"it",icon:"flag-icon-it"},{id:"x",name:"Latvia",key:"lv",icon:"flag-icon-lv"},{id:"y",name:"Lithuania",key:"lt",icon:"flag-icon-lt"},{id:"z",name:"Luxembourg",key:"lu",icon:"flag-icon-lu"},{id:"0",name:"Malta",key:"mt",icon:"flag-icon-mt"},{id:"1",name:"Moldova",key:"md",icon:"flag-icon-md"},{id:"2",name:"Montenegro",key:"me",icon:"flag-icon-me"},{id:".i",name:"Monaco",key:"mc",icon:"flag-icon-mc"},{id:".l",name:"Morocco",key:"ma",icon:"flag-icon-ma"},{id:"3",name:"Netherlands",key:"nl",icon:"flag-icon-nl"},{id:"4",name:"Norway",key:"no",icon:"flag-icon-no"},{id:"5",name:"North Macedonia",key:"mk",icon:"flag-icon-mk"},{id:"6",name:"Poland",key:"pl",icon:"flag-icon-pl"},{id:"7",name:"Portugal",key:"pt",icon:"flag-icon-pt"},{id:"8",name:"Romania",key:"ro",icon:"flag-icon-ro"},{id:"9",name:"Russia",key:"ru",icon:"flag-icon-ru"},{id:".a",name:"San Marino",key:"sm",icon:"flag-icon-sm"},{id:".b",name:"Serbia",key:"rs",icon:"flag-icon-rs"},{id:".o",name:"Serbia & Montenegro",key:"cs",icon:"flag-icon-cs"},{id:".c",name:"Slovenia",key:"si",icon:"flag-icon-si"},{id:".n",name:"Slovakia",key:"sk",icon:"flag-icon-sk"},{id:"d",name:"Spain",key:"es",icon:"flag-icon-es"},{id:"e",name:"Sweden",key:"se",icon:"flag-icon-se"},{id:"f",name:"Switzerland",key:"ch",icon:"flag-icon-ch"},{id:".k",name:"Turkey",key:"tr",icon:"flag-icon-tr"},{id:"g",name:"Ukraine",key:"ua",icon:"flag-icon-ua"},{id:"h",name:"United Kingdom",key:"gb",icon:"flag-icon-gb"},{id:".j",name:"Yugoslavia",key:"yu",icon:"flag-icon-yu"}],w=Array.from({length:70},((e,t)=>(1956+t).toString())).reverse();function b(e){return 2===(null==e?void 0:e.length)?parseInt(e)<40?"20"+e:"19"+e:4===(null==e?void 0:e.length)?e:S}const S="2025";class C{constructor(e){t(this,"id"),t(this,"countryKey"),t(this,"artist"),t(this,"song"),t(this,"_youtube"),t(this,"finalsRank"),t(this,"semiFinalsRank"),t(this,"votes"),t(this,"year"),this.id=e.id,this.countryKey=e.countryKey,this.artist=e.artist,this.song=e.song,this._youtube=e.youtube,this.finalsRank=e.finalsRank,this.semiFinalsRank=e.semiFinalsRank,this.votes=e.votes,this.year=e.year}get youtube(){if(this._youtube)return this._youtube.includes("youtube.com")||this._youtube.includes("youtu.be")||(this._youtube=`https://www.youtube.com/watch?v=${this._youtube}`),this._youtube}set youtube(e){this._youtube=e}toJSON(){return{id:this.id,countryKey:this.countryKey,artist:this.artist,song:this.song,youtube:this.youtube,finalsRank:this.finalsRank,semiFinalsRank:this.semiFinalsRank,votes:this.votes,year:this.year}}}var E,R={exports:{}};
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/const P=i((E||(E=1,R.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},a=0,o={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(w(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!w(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var l=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=m,l.id=a++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var h,p=null;return o.NODE_STREAM_INPUT,"string"==typeof n?(n=65279===(h=n).charCodeAt(0)?h.slice(1):h,p=r.download?new u(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new c(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",a="\r\n",s='"',l=s+s,u=!1,c=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var u=0;u<e.length;u++)0<u&&(o+=i),o+=y(e[u],u);0<t.length&&(o+=a)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,f=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(f="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var p=[],m=0;m<d;m++){var g=l?e[m]:m;p.push(t[c][g])}f=""===p.join("").trim()}if(!f){for(var v=0;v<d;v++){0<v&&!h&&(o+=i);var _=s&&l?e[v]:v;o+=y(t[c][_],v)}c<t.length-1&&(!n||0<d&&!h)&&(o+=a)}}return o}function y(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var a=e.toString().replace(f,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(a,o.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?s+a+s:a}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=y,o.ParserHandle=h,o.NetworkStreamer=u,o.FileStreamer=c,o.StringStreamer=d,o.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,l,u=r[0];if(w(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",n=u.file,i=u.inputElem,l=c.reason,void(w(e.error)&&e.error({name:t},n,i,l));if("skip"===c.action)return void a();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void a()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){w(d)&&d(e,u.file,u.inputElem),a()},o.parse(u.file,u.instanceConfig)}else w(e.complete)&&e.complete()}function a(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:o.WORKER_ID,finished:u});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(a){this._chunkError(a.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=k((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(r){this._streamError(r)}}),this),this._streamError=k((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=k((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=k((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),a=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,c=0,d=0,f=!1,h=!1,m=[],g={data:[],errors:[],meta:{}};if(w(e.step)){var v=e.step;e.step=function(t){if(g=t,S())b();else{if(b(),0===g.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():(g.data=g.data[0],v(g,u))}}}function k(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function b(){return g&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!k(e)}))),S()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;S()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var a=r,o=t[r];e.header&&(a=r>=m.length?"__parsed_extra":m[r]),e.transform&&(o=e.transform(o,a)),o=C(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return e.header&&(r>m.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,d+n):r<m.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,d+n)),i}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=m),d+=n,g}()}function S(){return e.header&&0===m.length}function C(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(a<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function E(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),g.errors.push(i)}this.parse=function(i,a,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),g.meta.delimiter=e.delimiter);else{var u=function(t,n,r,i,a){var s,l,u,c;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<a.length;d++){var f=a[d],h=0,p=0,m=0;u=void 0;for(var g=new y({comments:i,delimiter:f,newline:n,preview:10}).parse(t),v=0;v<g.data.length;v++)if(r&&k(g.data[v]))m++;else{var _=g.data[v].length;p+=_,void 0!==u?0<_&&(h+=Math.abs(_-u),u=_):u=_}0<g.data.length&&(p/=g.data.length-m),(void 0===l||h<=l)&&(void 0===c||c<p)&&1.99<p&&(l=h,s=f,c=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter}var c=_(e);return e.preview&&e.header&&c.preview++,t=i,n=new y(c),g=n.parse(t,a,s),b(),f?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),g.meta.aborted=!0,w(e.complete)&&e.complete(g),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,a=e.step,s=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,d=!1;this.parse=function(o,f,h){if("string"!=typeof o)throw new Error("Input must be a string");var y=o.length,m=n.length,g=r.length,v=i.length,_=w(a),k=[],b=[],S=[],C=c=0;if(!o)return H();if(e.header&&!f){var E=o.split(r)[0].split(n),R=[],P={},I=!1;for(var O in E){var x=E[O];w(e.transformHeader)&&(x=e.transformHeader(x,O));var j=x,T=P[x]||0;for(0<T&&(I=!0,j=x+"_"+T),P[x]=T+1;R.includes(j);)j=j+"_"+T;R.push(j)}if(I){var A=o.split(r);A[0]=R.join(n),o=A.join(r)}}if(l||!1!==l&&-1===o.indexOf(t)){for(var L=o.split(r),D=0;D<L.length;D++){if(S=L[D],c+=S.length,D!==L.length-1)c+=r.length;else if(h)return H();if(!i||S.substring(0,v)!==i){if(_){if(k=[],N(S.split(n)),J(),d)return H()}else N(S.split(n));if(s&&s<=D)return k=k.slice(0,s),H(!0)}}return H()}for(var $=o.indexOf(n,c),M=o.indexOf(r,c),F=new RegExp(p(u)+p(t),"g"),z=o.indexOf(t,c);;)if(o[c]!==t)if(i&&0===S.length&&o.substring(c,c+v)===i){if(-1===M)return H();c=M+g,M=o.indexOf(r,c),$=o.indexOf(n,c)}else if(-1!==$&&($<M||-1===M))S.push(o.substring(c,$)),c=$+m,$=o.indexOf(n,c);else{if(-1===M)break;if(S.push(o.substring(c,M)),W(M+g),_&&(J(),d))return H();if(s&&k.length>=s)return H(!0)}else for(z=c,c++;;){if(-1===(z=o.indexOf(t,z+1)))return h||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:c}),B();if(z===y-1)return B(o.substring(c,z).replace(F,t));if(t!==u||o[z+1]!==u){if(t===u||0===z||o[z-1]!==u){-1!==$&&$<z+1&&($=o.indexOf(n,z+1)),-1!==M&&M<z+1&&(M=o.indexOf(r,z+1));var K=q(-1===M?$:Math.min($,M));if(o.substr(z+1+K,m)===n){S.push(o.substring(c,z).replace(F,t)),o[c=z+1+K+m]!==t&&(z=o.indexOf(t,c)),$=o.indexOf(n,c),M=o.indexOf(r,c);break}var U=q(M);if(o.substring(z+1+U,z+1+U+g)===r){if(S.push(o.substring(c,z).replace(F,t)),W(z+1+U+g),$=o.indexOf(n,c),z=o.indexOf(t,c),_&&(J(),d))return H();if(s&&k.length>=s)return H(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:c}),z++}}else z++}return B();function N(e){k.push(e),C=c}function q(e){var t=0;if(-1!==e){var n=o.substring(z+1,e);n&&""===n.trim()&&(t=n.length)}return t}function B(e){return h||(void 0===e&&(e=o.substring(c)),S.push(e),c=y,N(S),_&&J()),H()}function W(e){c=e,N(S),S=[],M=o.indexOf(r,c)}function H(e){return{data:k,errors:b,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:C+(f||0)}}}function J(){a(H()),k=[],b=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function m(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function v(){throw new Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=_(e[n]);return t}function k(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,o}()),R.exports));let I=null,O=null;function x(e){const t=e===S;if(!t&&I)return I;if(t&&O)return O;const n=fetch(`/${t?"votesCurrent.csv":"votes.csv"}`).then((e=>e.text()));return t?O=n:I=n,n}let j=null,T=null;function A(e=""){const t=e===S;if(!t&&j)return j;if(t&&T)return T;if(t)return T=D("mainCurrent.csv"),T;{const e=D("main.csv"),t=D("mainCurrent.csv");return j=T=Promise.all([e,t]).then((([e,t])=>e+t)),j}}let L=null;function D(e){return fetch(`/${e}`).then((e=>e.text()))}const $={};function M(e,t,n,r){e=b(e),t=null==t?void 0:t.toLowerCase(),n&&(n=z(n));let i=`${e}-${t}-${n}`;return $[i]?Promise.resolve($[i]):new Promise(((a,o)=>{x(e).then((e=>e)).then((s=>{P.parse(s,{header:!0,complete:o=>{const s=o.data.filter((i=>!(i.year!==e||(null==t?void 0:t.length)&&i.from_country_id!==t||(null==n?void 0:n.length)&&i.round!==n||(null==r?void 0:r.length)))).map((e=>({year:e.year,round:F(e.round),fromCountryKey:e.from_country_id,toCountryKey:e.to_country_id,totalPoints:e.total_points??parseInt(e.total_points),telePoints:e.tele_points??parseInt(e.tele_points),juryPoints:e.jury_points??parseInt(e.jury_points)})));$[i]=s,a(s)},error:e=>o(e)})})).catch((e=>o(e)))}))}const F=e=>{switch(e){case"f":return"Final";case"sf":return"Semi-Final";case"sf1":return"Semi-Final-1";case"sf2":return"Semi-Final-2";default:throw new Error(e+" not supported")}},z=e=>{switch(null==e?void 0:e.toLowerCase()){case"final":return"f";case"semi-final":return"sf";case"semi-final-1":return"sf1";case"semi-final-2":return"sf2";default:throw new Error(e+" not supported")}};let K,U,N;async function q(e,t,n="final",r){const i=function(e){switch(null==e?void 0:e.toLowerCase()){case"tv":case"tele":case"tele-vote":case"televote":return"telePoints";case"j":case"jury":return"juryPoints";default:return"totalPoints"}}(t),a=await B(e,n,r);return a.sort(((e,t)=>{var n,r;return J(null==(n=t.contestant)?void 0:n.votes,i)-J(null==(r=e.contestant)?void 0:r.votes,i)})),(null==r?void 0:r.length)?a.filter((e=>{var t;return J(null==(t=e.contestant)?void 0:t.votes,i)>0})):a}async function B(e,t,n){const r=function(e){const t=["final","semi-final","semi-final-1","semi-final-2"],n=e.toLowerCase();if(t.includes(n))return n;throw new Error(`Invalid round "${e}" provided. Defaulting to "final".`)}(t),i=new Set(e.filter((e=>{var t;return null==(t=e.contestant)?void 0:t.year})).map((e=>e.contestant.year)));let a;if(i.size>1){const t=e.filter((e=>{var t;return null==(t=e.contestant)?void 0:t.year})).map((e=>({year:e.contestant.year,countryKey:e.country.key})));a=await async function(e,t){const n=new Set(e.map((e=>b(e.year)))),r=new Set(e.map((e=>e.countryKey.toLowerCase())));t&&(t=z(t));const i=`${Array.from(n).join(",")}-${Array.from(r).join(",")}-${t}`;return $[i]?Promise.resolve($[i]):new Promise(((e,a)=>{x("").then((e=>e)).then((o=>{P.parse(o,{header:!0,complete:a=>{const o=a.data.filter((e=>n.has(e.year)&&r.has(e.to_country_id)&&(!t||e.round===t))).map((e=>({year:e.year,round:F(e.round),fromCountryKey:e.from_country_id,toCountryKey:e.to_country_id,totalPoints:e.total_points?parseInt(e.total_points):0,telePoints:e.tele_points?parseInt(e.tele_points):0,juryPoints:e.jury_points?parseInt(e.jury_points):0})));$[i]=o,e(o)},error:e=>a(e)})})).catch((e=>a(e)))}))}(t,r),n&&(a=a.filter((e=>e.fromCountryKey===n)))}else{const e=1===i.size?b(Array.from(i)[0]):"";a=await async function(e,t,n){return U===n&&K===e||(N=await M(e,void 0,n),U=n,K=e),N.filter((e=>!t||e.fromCountryKey==t))}(e,n,r)}return xe(e,a)}function W(e,t){var n,r;if(!e)return!1;let i=null==(r=null==(n=e.split("-"))?void 0:n[1])?void 0:r.split(".");return null==i?void 0:i.includes(t)}function H(e,t,n){var r,i;if(!e&&!n)return"";e&&e.startsWith("f-")||(e="f-");let a=e.split("-"),o=null==(r=null==a?void 0:a[1])?void 0:r.split(".");(null==(i=null==o?void 0:o[0])?void 0:i.length)||(o=[]),n?o.includes(t)||o.push(t):o=o.filter((e=>e!==t));let s=a[0],l=o.join(".");return(null==l?void 0:l.length)?(s+=`-${l}`,a[2]&&(s+=`-${a[2]}`),s):s}function J(e,t){if(!e)return 0;let n=e[t];return parseInt(n,10)}async function Y(e,t){let{fromCountryKey:n,round:r}=G(t);return await B(e,r,n)}function G(e){let t=null==e?void 0:e.split("-"),n=null==t?void 0:t[0];return null==t||t[1],{fromCountryKey:null==t?void 0:t[2],round:function(e){e="f"===e?"final":"sf"===e?"semi-final":"final";return e}(n)}}async function Q(e,t,n){let{fromCountryKey:r,round:i}=G(e);return await M(t,r,i,n)}async function V(e,t=""){return await async function(e,t){let n=await async function(e){return e=b(e),await function(e){if(X[e])return Promise.resolve(X[e]);return re(e).then((t=>{const n=te(t,(t=>t.year===e));return X[e]=n,n}))}(e)}(e);return await Z(n,t)}(e,t)}async function Z(e,t){let n=e.map((e=>{let t="1956"===b(null==e?void 0:e.year)&&e.countryKey.endsWith("2"),n=e.countryKey;t&&(n=n.slice(0,-2));let r=function(e,t){var n;let r=k.find((t=>t.key===e));r||("czech republic"===(null==(n=t.countryKey)?void 0:n.toLowerCase())&&(t.countryKey="Czechia"),r=k.find((e=>e.name===t.countryKey)),r&&(t.countryKey=r.key));return r}(n,e);if(!r)throw new Error(`No matching country found for contestant with countryKey: ${e.countryKey}`);if(t){let t={...r};return t.name+=" (2)",{id:"_"+r.id,uid:null==e?void 0:e.id,country:t,contestant:e}}return{id:r.id,uid:null==e?void 0:e.id,country:r,contestant:e}})).sort(((e,t)=>e.country.name.localeCompare(t.country.name)));return await Y(n,t??"")}const X={},ee={};function te(e,t){const n=new Map;return e.data.filter(t).forEach((e=>{const t=`${e.year}-${e.to_country_id}`;e.yearCountry=t,n.has(t)?function(e,t,n){const[r,i]=t.split("-");if("1956"!==r){const r=e.get(t);n.place_contest&&(r.finalsRank=n.place_contest),n.place_sf&&(r.semiFinalsRank=n.place_sf)}else{const r=ne(n);r.countryKey=`${i}-2`,e.set(`${t}-2`,r)}}(n,t,e):n.set(t,ne(e))})),Array.from(n.values())}function ne(e){var t;const n={id:e.id,countryKey:e.to_country_id,artist:e.performer,song:e.song,youtube:e.youtube_url,finalsRank:(null==(t=e.place_contest)?void 0:t.length)?e.place_contest:e.place_final,semiFinalsRank:e.place_sf,year:e.year,votes:{round:"Final",year:e.year,totalPoints:e.points_final,telePoints:e.points_tele_final,juryPoints:e.points_jury_final}};return new C(n)}function re(e=""){return new Promise(((t,n)=>{A(e).then((e=>e)).then((e=>{P.parse(e,{header:!0,complete:e=>t(e),error:e=>n(e)})})).catch((e=>n(e)))}))}async function ie(e,t=de("v")??""){const n=await function(e){const t=[],n=[];if(e.forEach((e=>{e in ee?t.push(ee[e]):n.push(e)})),0===n.length)return Promise.resolve(t);return re().then((e=>{const r=te(e,(e=>n.includes(e.id)));return r.forEach((e=>{ee[`${e.year}-${e.countryKey}`]=e})),[...t,...r]}))}(e),r=await Z(n,t),i=new Map(r.map((e=>[e.uid,e])));return e.map((e=>{const t=i.get(e);return t})).filter((e=>void 0!==e))}function ae(e){return(null==e?void 0:e.length)?re().then((t=>te(t,(t=>{var n;return(null==(n=t.to_country)?void 0:n.toLowerCase())===(null==e?void 0:e.toLowerCase())})))):Promise.resolve([])}function oe(e){return new Promise(((t,n)=>{A("").then((e=>e)).then((r=>{P.parse(r,{header:!0,complete:r=>{const i=r.data.find((t=>t.id===e));i?function(){if(L)return L;const e=fetch("/lyrics.csv").then((e=>e.text()));return L=e,e}().then((e=>e)).then((r=>{P.parse(r,{header:!0,complete:n=>{const r=n.data.find((t=>t.id===e));t(r?{lyrics:r.lyrics,engLyrics:r.eng_lyrics,composers:i.composers,lyricists:i.lyricists}:void 0)},error:e=>n(e)})})).catch((e=>n(e))):t(void 0)},error:e=>n(e)})})).catch((e=>n(e)))}))}async function se(e,t,n,r,i){const a="t"===r;let o;if(a||(o=await V(e,n??""),i(He(o))),t){const{rankedIds:e,rankedCountries:n}=await async function(e,t,n,r){const i=he(e,n);if(n){return{rankedIds:i,rankedCountries:await ie(i,r)}}const a=i.map((e=>{let r=null==t?void 0:t.find((t=>n?t.uid===e:t.id===e));if(r)return r;if(!n){const t=k.find((t=>t.id===e));if(t)return function(e){return{id:e.id,country:e,contestant:null}}(t)}})).filter(Boolean);return{rankedIds:i,rankedCountries:a}}(t,o,a);if(i(Be(n)),a)i(We([]));else{const t=null==o?void 0:o.filter((t=>!e.includes(t.id)));i(We(t))}return e}a?(i(Be(o??[])),i(We([]))):(i(Be([])),i(We(o??[])))}function le(e){var t,n;return null==(n=null==(t=ce(e).rankings)?void 0:t.replace(">",""))?void 0:n.length}async function ue(e,t){const n=ce(e);return((e,t)=>{let{rankingName:n,contestYear:r,theme:i,voteCode:a,comparisonMode:o,globalMode:s,showThumbnail:l,showPlace:u}=e;n&&t(Me(n)),t(ot("t"===s)),t(Qe("t"===o)),t(Ve("f"!==l)),t(Ze("t"===u)),t(ze(i??"")),t(Ke(a??"")),(null==r?void 0:r.length)?(r=b(r),t(Fe(r))):t(Fe(S))})(n,t),await se(n.contestYear||S,n.rankings,n.voteCode,n.globalMode,t)}function ce(e){const t=new URLSearchParams(window.location.search);return me(t,e)}function de(e){return new URLSearchParams(window.location.search).get(e)}const fe=(e,t=pe("g","t"))=>{const n=e.map((e=>t?e.uid:e.id));return t?`>${n.join("")}`:n.join("")};function he(e,t){if(t||e.startsWith(">"))return e.startsWith(">")&&e.slice(1).match(/.{1,3}/g)||[];let n=[],r=0;for(;r<e.length;)"_"===e[r]?r+1<e.length?"."===e[r+1]&&r+2<e.length?(n.push(e.substring(r,r+3)),r+=3):(n.push(e.substring(r,r+2)),r+=2):(n.push(e[r]),r+=1):"."===e[r]&&r+1<e.length?(n.push(e.substring(r,r+2)),r+=2):(n.push(e[r]),r+=1);return Array.from(new Set(n))}function pe(e,t){const n=new URLSearchParams(window.location.search).get(e);return null!==n&&n===t}function ye(e){const t=new URL(window.location.href),n=t.searchParams;e.forEach(((e,t)=>{const r=`r${t+1}`;n.delete(r)})),n.delete("r"),t.search=n.toString(),window.history.pushState(null,"",t.toString())}const me=(e,t)=>({rankingName:e.get("n"),contestYear:e.get("y"),rankings:e.get(`r${void 0!==t?t+1:""}`),theme:e.get("t"),voteCode:e.get("v"),comparisonMode:e.get("cm"),globalMode:e.get("g"),showThumbnail:e.get("p"),showPlace:e.get("pl")}),ge=async(e,t,n,r=pe("g","t"))=>{const i=fe(n,r);(null==t?void 0:t.length)>0&&void 0!==e?ve({[`r${e+1}`]:i}):ve({r:i})};function ve(e){const t=new URLSearchParams(window.location.search);Object.keys(e).forEach((n=>{e[n]?t.set(n,e[n]):t.delete(n)}));const n="?"+t.toString();n!==window.location.search&&window.history.pushState(null,"",n)}function _e(e,t){let n=function(e){return`${window.location.origin}${window.location.pathname}${e}`}(e);t&&(n+=`&t=${t}`),window.location.href=n}function ke(e){return JSON.parse(JSON.stringify(e))}const we=e=>{const t=e.map((e=>{var t;return null==(t=null==e?void 0:e.contestant)?void 0:t.year})).filter((e=>void 0!==e));return Array.from(new Set(t))};function be(e,t,n){const r={};e.forEach(((e,i)=>{const a=`r${i+1}`;let o=de(a)||"";t&&!Se(o)?o=function(e,t){var n,r;let i=[];const a=he(e);for(const o of a){const e=null==(r=null==(n=t.filter((e=>e.id===o)))?void 0:n[0])?void 0:r.uid;e&&i.push(e)}return e=`>${i.join("")}`,e}(o,n):!t&&Se(o)&&(o=function(e,t){var n,r;let i=[];const a=he(e);for(const o of a){const e=null==(r=null==(n=t.filter((e=>e.uid===o)))?void 0:n[0])?void 0:r.id;e&&i.push(e)}return e=`${i.join("")}`,e}(o,n)),r[a]=o})),ve(r)}function Se(e){return(null==e?void 0:e.length)>0&&">"===(null==e?void 0:e[0])}function Ce(e){var t;if((null==e?void 0:e.length)&&"All"!==e){const n=null==(t=k.find((t=>t.name===e)))?void 0:t.key;return null==n||n.length,n}}function Ee(e){return e.some((e=>{var t,n,r,i;return(null==(n=null==(t=null==e?void 0:e.contestant)?void 0:t.votes)?void 0:n.juryPoints)&&(null==(i=null==(r=null==e?void 0:e.contestant)?void 0:r.votes)?void 0:i.juryPoints)>0}))}function Re(e){return e.some((e=>{var t,n,r,i;return(null==(n=null==(t=null==e?void 0:e.contestant)?void 0:t.votes)?void 0:n.telePoints)&&(null==(i=null==(r=null==e?void 0:e.contestant)?void 0:r.votes)?void 0:i.telePoints)>0}))}function Pe(e){return e=b(e),parseInt(e)>2016?["Total","Televote","Jury"]:["Total"]}function Ie(e){if(e)switch(null==e?void 0:e.toLowerCase()){case"jury":return"j";case"total":return"t";case"tele":case"televote":return"tv";default:return}}function Oe(e,t,n){let r=`${e}-${t}`;const i=Ce(n);return(null==i?void 0:i.length)&&(r+=`-${i}`),r}function xe(e,t){const n=function(e){const t={};return e.forEach((e=>{let n=t[je(e)];n||(n={totalPoints:void 0,juryPoints:void 0,telePoints:void 0,year:e.year,round:e.round},t[je(e)]=n);let r=Te(e,"totalPoints"),i=Te(e,"juryPoints"),a=Te(e,"telePoints");r&&(n.totalPoints||(n.totalPoints=0),n.totalPoints+=r),i&&(n.juryPoints||(n.juryPoints=0),n.juryPoints+=i),a&&(n.telePoints||(n.telePoints=0),n.telePoints+=a)})),t}(t);return(e=ke(e)).forEach((e=>{var t,r;e.contestant&&(e.contestant.votes=n[(t=e,`${t.country.key}-${null==(r=null==t?void 0:t.contestant)?void 0:r.year}`)]||void 0)})),e}function je(e){return`${e.toCountryKey}-${e.year}`}function Te(e,t){let n=e[t];return parseInt(n,10)}const Ae=a("table/sortTable",(async(e,{getState:t})=>{const n=t(),r=n.tableState.sortColumn,i=n.tableState.sortDirection;let a="asc";return e===r&&(a="asc"===i?"desc":"asc"),{column:e,direction:a}})),Le=a("table/filterTable",(async(e,{getState:t})=>e)),De=a("table/changePageSize",(async(e,{getState:t})=>e));a("items/addAllUnranked",(async(e,{dispatch:t,getState:n})=>{const r=n(),{rankedItems:i,unrankedItems:a,categories:o}=r;if(t(We([])),t(Be(i.concat(a))),o.length>0){const e=new URLSearchParams(window.location.search);o.forEach(((t,n)=>{const r=`r${n+1}`,i=`${e.get(r)||""}${a.map((e=>e.country.id)).join("")}`;e.set(r,i)}));const t=`${window.location.pathname}?${e.toString()}`;window.history.replaceState(null,"",t)}return{rankedItems:i.concat(a),unrankedItems:[]}}));const $e=o({name:"root",initialState:{name:"",year:"",theme:"",vote:"loading",globalSearch:!1,showUnranked:!1,isDeleteMode:!1,headerMenuOpen:!1,contestants:[],rankedItems:[],unrankedItems:[],categories:[],activeCategory:void 0,showTotalRank:!1,showComparison:!1,showThumbnail:!0,showPlace:!1,welcomeOverlayIsOpen:!1,tableState:{sortColumn:"year",sortDirection:"desc",filters:{},pageSize:10,currentPage:1,filteredEntries:[],entries:[],searchTerm:"",selectedContestants:[],paginatedContestants:[]}},reducers:{setName:(e,t)=>{e.name=t.payload},setYear:(e,t)=>{e.year=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setVote:(e,t)=>{e.vote=t.payload},setShowUnranked:(e,t)=>{e.showUnranked=t.payload},setIsDeleteMode:(e,t)=>{e.isDeleteMode=t.payload},setHeaderMenuOpen:(e,t)=>{e.headerMenuOpen=t.payload},setWelcomeOverlayIsOpen:(e,t)=>{e.welcomeOverlayIsOpen=t.payload},setRankedItems:(e,t)=>{e.rankedItems=t.payload},setUnrankedItems:(e,t)=>{e.unrankedItems=t.payload},setContestants:(e,t)=>{e.contestants=t.payload},setCategories:(e,t)=>{e.categories=t.payload},setActiveCategory:(e,t)=>{e.activeCategory=t.payload},setShowTotalRank:(e,t)=>{e.showTotalRank=t.payload},setShowComparison:(e,t)=>{e.showComparison=t.payload},setShowThumbnail:(e,t)=>{e.showThumbnail=t.payload},setShowPlace:(e,t)=>{e.showPlace=t.payload},setGlobalSearch:(e,t)=>{e.globalSearch=t.payload},assignVotesToContestants:(e,t)=>{const n=t.payload;e.contestants=xe(ke(e.contestants),n),e.rankedItems=xe(ke(e.rankedItems),n),e.unrankedItems=xe(ke(e.unrankedItems),n)},setTableCurrentPage:(e,t)=>{e.tableState.currentPage=t.payload},setEntries:(e,t)=>{e.tableState.entries=t.payload},setSelectedContestants:(e,t)=>{e.tableState.selectedContestants=t.payload},setPaginatedContestants:(e,t)=>{e.tableState.paginatedContestants=t.payload},toggleSelectedContestant:(e,t)=>{const n=t.payload,r=e.tableState.selectedContestants.findIndex((e=>e.id===n));if(-1!==r)e.tableState.selectedContestants.splice(r,1);else{const t=e.tableState.entries.find((e=>e.id===n));t&&e.tableState.selectedContestants.push(t)}},addAllPaginatedContestants:e=>{const t=e.tableState.paginatedContestants.filter((t=>!e.tableState.selectedContestants.some((e=>e.id===t.id))));e.tableState.selectedContestants=[...e.tableState.selectedContestants,...t]}},extraReducers:e=>{e.addCase(Ae.fulfilled,((e,t)=>{e.tableState.sortColumn=t.payload.column,e.tableState.sortDirection=t.payload.direction})).addCase(Le.fulfilled,((e,t)=>{e.tableState.filters=t.payload,e.tableState.currentPage=1})).addCase(De.fulfilled,((e,t)=>{e.tableState.pageSize=t.payload,e.tableState.currentPage=1}))}}),{setName:Me,setYear:Fe,setTheme:ze,setVote:Ke,setShowUnranked:Ue,setIsDeleteMode:Ne,setHeaderMenuOpen:qe,setRankedItems:Be,setUnrankedItems:We,setContestants:He,setCategories:Je,setActiveCategory:Ye,setShowTotalRank:Ge,setShowComparison:Qe,setShowThumbnail:Ve,setShowPlace:Ze,assignVotesToContestants:Xe,setTableCurrentPage:et,setEntries:tt,toggleSelectedContestant:nt,setSelectedContestants:rt,setPaginatedContestants:it,addAllPaginatedContestants:at,setGlobalSearch:ot,setWelcomeOverlayIsOpen:st}=$e.actions,lt=s({reducer:$e.reducer}),ut=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ct=l.lazy((()=>d((()=>import("./App-A7yzCLz8.js").then((e=>e.aG))),__vite__mapDeps([0,1,2])))),dt=()=>g.jsx("div",{className:"w-full h-full normal-bg","aria-label":"Loading"});_.createRoot(document.getElementById("root")).render(g.jsx(u,{store:lt,children:g.jsx(l.Suspense,{fallback:g.jsx(dt,{}),children:g.jsx(ct,{})})}));export{Y as $,be as A,et as B,it as C,A as D,tt as E,ie as F,Ae as G,Le as H,De as I,we as J,Me as K,Qe as L,k as M,Re as N,Ee as O,P,ae as Q,_e as R,Oe as S,b as T,q as U,ze as V,H as W,Ke as X,Ve as Y,Ze as Z,d as _,Ye as a,Q as a0,Xe as a1,Pe as a2,ce as a3,Ie as a4,Ce as a5,oe as a6,ke as a7,ut as a8,Ge as b,he as c,Je as d,Ue as e,V as f,He as g,We as h,Be as i,g as j,rt as k,ue as l,ye as m,ge as n,Ne as o,at as p,le as q,fe as r,st as s,ot as t,ve as u,W as v,qe as w,Fe as x,w as y,de as z};
