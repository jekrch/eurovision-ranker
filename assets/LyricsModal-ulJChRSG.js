import{$ as e,j as r}from"./index-BlIxR8T_.js";import{r as t}from"./redux-BaDTb7KV.js";import{u as l,Z as s,aN as a,L as n}from"./App-Ca7Yn8SD.js";import"./react-D41Hy763.js";const o=o=>{var i,c;const d=l((e=>e.year)),[u,m]=t.useState(""),[x,v]=t.useState(""),[f,h]=t.useState(""),[p,b]=t.useState(""),[g,j]=t.useState(!1),y=null==(i=o.countryContestant)?void 0:i.contestant;function N(e,r){if(!e)return e;let t=e.split("\\n");t.length>=2&&t[0]===r&&!t[1].trim()&&(t=t.slice(2));return t.join("\\n")}t.useEffect((()=>{d&&(null==y?void 0:y.song)&&(j(!1),b(""),h(""),m(void 0),v(void 0),e(y.id).then((e=>{!function(e,r,t){if(!(null==e?void 0:e.length))return void m("N/A");const l=N(e,t);m(l);const s=N(r,t);v(s)}(null==e?void 0:e.lyrics,null==e?void 0:e.engLyrics,y.song),h((null==e?void 0:e.composers)??""),b((null==e?void 0:e.lyricists)??"")})).catch(console.error))}),[o.countryContestant]);const k=({label:e,value:t})=>{if(!t)return null;const l=t.replaceAll(";",", ");return r.jsxs("div",{className:"flex",children:[r.jsxs("span",{className:"text-sm mr-[0.8em] w-[6.2em] text-right font-semibold",children:[e,":"]}),r.jsx("span",{className:"text-sm flex-1",children:l})]})};return r.jsxs(s,{isOpen:o.isOpen,onClose:o.onClose,className:"z-50 select-text min-h-[20em] gradient-background-modal",children:[r.jsx("div",{className:"-mt-[0.5em] mr-[1.2em] mb-3 font-semibold text-base text-slate-[400px]",children:r.jsxs("span",{children:[null==(c=o.countryContestant)?void 0:c.country.name," - ",null==y?void 0:y.artist,' - "',null==y?void 0:y.song,'"',(null==y?void 0:y.youtube)&&r.jsx("span",{className:"inline-block ml-3 -mb-1",children:r.jsx("a",{href:null==y?void 0:y.youtube,target:"_blank",rel:"noopener noreferrer",className:" float-right rounded text-[var(--er-text-muted)] hover:text-[var(--er-text-secondary)]",children:r.jsx(a,{className:"text-xl text-[#FF0000]x -mb-[0.1em]",title:"youtube"})})}),x&&r.jsxs("label",{className:"inline-flex float-right mr-2 mt-1 items-center cursor-pointer",title:"translate",children:[r.jsx("input",{type:"checkbox",value:"",onChange:e=>{j(e.target.checked)},className:"sr-only peer"}),r.jsx("div",{className:"relative w-7 h-4 bg-gray-00 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--r-accent-blue)] dark:peer-focus:ring-[var(--er-interactive-dark)] rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-[var(--er-border-default)] after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-gray-400 after:border-[var(--er-border-lighter)] after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-[var(--er-border-medium)] peer-checked:bg-[var(--er-interactive-secondary)]"}),r.jsxs("span",{className:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:[r.jsx(n,{code:"gb",className:"mr-3 w-6 opacity-60  float-right text-md flag-icon mr-1"})," "]})]})]})}),r.jsx("hr",{className:"mb-[1em] border-[var(--er-border-secondary)]"}),r.jsxs("div",{className:"overflow-auto",children:[r.jsx(k,{label:"Composer(s)",value:null==f?void 0:f.replaceAll(";",", ")}),r.jsx(k,{label:"Lyricist(s)",value:null==p?void 0:p.replaceAll(";",", ")}),r.jsx("hr",{className:"mt-[1em] mr-2 border-[var(--er-border-secondary)]"}),r.jsx("div",{className:"mt-[1em] relative overflow-hidden",children:r.jsxs("div",{className:"lyrics-wrapper",children:[r.jsx("div",{className:"lyrics-container "+(g&&(null==u?void 0:u.length)?"slide-out-left":"slide-in-right"),children:null==u?void 0:u.split("\\n").map(((e,t)=>r.jsx("div",{children:(null==e?void 0:e.length)?e:" "},t)))}),r.jsx("div",{className:"lyrics-container "+(g?"slide-in-right":"slide-out-left"),children:null==x?void 0:x.split("\\n").map(((e,t)=>r.jsx("div",{children:(null==e?void 0:e.length)?e:" "},t)))})]})})]})]})};export{o as default};
