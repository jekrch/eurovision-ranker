const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/JoyrideUtil-00iDwZ-8.js","assets/redux-BaDTb7KV.js","assets/react-D41Hy763.js","assets/App-CL3dfobV.js","assets/index-Chv81lTz.js","assets/index-C3hiFuee.css"])))=>i.map(i=>d[i]);
import{_ as t,S as e,u as o,t as r,W as a,f as n,g as s,h as i,i as c,m as u,j as l,L as g,e as p,x as d,a8 as f,y as h,b as y}from"./index-Chv81lTz.js";import{r as k}from"./redux-BaDTb7KV.js";import{E as m,S as b,A as S,j as w}from"./JoyrideUtil-00iDwZ-8.js";import{l as T,u as E,U as C,aM as R}from"./App-CL3dfobV.js";import"./react-D41Hy763.js";const j=[{target:".tour-step-1",content:"Select the year that you want to rank countries from"},{target:".tour-step-2",content:"Drag countries you want to rank from the left to the right column"},{target:".tour-step-3",content:"Use the bottom nav controls to edit your list"},{target:".tour-step-4",content:'Click "View List" to see more info about your countries'},{target:".tour-step-5",content:"Drag countries to change the order"},{target:".tour-step-6",content:"Click here to see more options"},{target:".tour-step-7",content:"You can generate a YouTube playlist from your ranking"},{target:".tour-step-8",content:"Or view a geographical heat map."},{target:".tour-step-9",content:'Create different rankings by category ("song", "staging") and generate a weighted final ranking'},{target:".tour-step-10",content:"Click over here to use a sorter to rank your countries according to your pairwise preferences"},{target:".tour-step-11",content:'Click "Select" to go back to the country picker'},{target:".tour-step-12",content:"Click the home icon for more info on this project"},{target:".tour-step-13",content:"Click the cog icon to access advanced controls"},{target:".tour-step-14",content:'In "Rankings" you can select a year and click the links to see the official ranking by voting type (tele, jury, total)'},{target:".tour-step-15",content:'You can select contestants from multiple years by enabling "Advanced Mode"'},{target:".tour-step-16",content:"Want to save or share your ranking? Just copy the URL! All of your ranking data is stored there."},{target:".tour-step-17",content:"e.g. your current URL is: eurovision-ranker.com?n=Sigrit%27s+Top+Picks&y=23&r=nidk4t"},{target:".tour-step-18",content:"Enjoy, friends ❤️"}].map((t=>({...t,disableBeacon:!0}))),v=v=>{const P=T(),U=E((t=>t.year)),_=E((t=>t.categories)),L=E((t=>t.rankedItems)),M=E((t=>t.unrankedItems)),[x,A]=k.useState(!1),I=C(),[O,D]=k.useState(""),[F,J]=k.useState(0),[N,V]=k.useState(null);k.useEffect((()=>{v.runTour&&t((()=>import("./JoyrideUtil-00iDwZ-8.js").then((t=>t.i))),__vite__mapDeps([0,1,2,3,4,5])).then((t=>{V((()=>t.default))})),v.runTour!==x&&(v.runTour&&(D(window.location.search),o({g:void 0,t:""}),P(r(!1)),P(a("")),I()),A(v.runTour),v.runTour||e(O,void 0))}),[v.runTour]),k.useEffect((()=>{(async()=>{await async function(t){switch(t){case 1:"2023"!==U&&(P(h("2023")),v.setRefreshUrl(Math.random())),await B(U),P(g("")),P(p(!0)),R("",_,P),P(y(!1));break;case 2:const t=["fi","hr","es","cz","no","is"],e=M.filter((e=>t.includes(e.country.key.toLowerCase()))),o=M.filter((e=>!t.includes(e.country.key.toLowerCase()))),r=[...t.map((t=>e.find((e=>e.country.key.toLowerCase()===t)))).filter((t=>void 0!==t)),...L];P(c(r)),P(i(o)),P(g("Sigrit's Top Picks")),v.setRefreshUrl(Math.random());break;case 4:P(p(!1));break;case 5:let a=f(L);L.length>=2&&(a[0]=L[1],a[1]=L[0]),P(c(a)),v.setRefreshUrl(Math.random()),P(d(!0));break;case 6:P(d(!0));break;case 11:P(p(!0));break;case 13:v.openConfigModal("rankings");break;case 14:v.setConfigModalShow(!1);break;case 16:v.setConfigModalShow(!1),P(g("")),await B(U),P(p(!0))}}(F)})()}),[F]);const Y=k.useCallback((t=>{const{action:e,index:o,status:r,type:a}=t;a===m.STEP_BEFORE&&0===o&&B(U),[b.FINISHED,b.SKIPPED].includes(r)||e===S.CLOSE&&a===m.STEP_AFTER?(v.setRunTour(!1),J(0)):a!==m.STEP_AFTER&&a!==m.TARGET_NOT_FOUND||J(o+(e===S.PREV?-1:1))}),[]);async function B(t){let e=await n(t,"");P(s(e)),P(i(e)),P(c([])),u(_),v.setRefreshUrl(Math.random())}return N?l.jsx(N,{disableScrolling:!0,disableScrollParentFix:!0,continuous:!0,run:x,steps:j,stepIndex:F,callback:Y,showProgress:!0,disableOverlay:!1,styles:w}):null};export{v as default};
